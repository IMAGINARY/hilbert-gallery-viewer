!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},o={},r=t.parcelRequire09b2;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in o){var t=o[n];delete o[n];var r={id:n,exports:{}};return e[n]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,t){o[n]=t},t.parcelRequire09b2=r);var a=r("guYSH"),i=r("eseOC"),u=r("5giTy"),c=r("6Q4nY"),l=r("8PzO7"),s=r("hbeJs"),f=r("5WEtF");function p(n){return d.apply(this,arguments)}function d(){return(d=(0,a.default)(n(l).mark((function t(e){return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n){setTimeout(n,1e3*e)}));case 2:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function h(){var n=[function(){return{type:"none",options:{}}},function(){var n=.25+.5*Math.random(),t=.25+.5*Math.random(),e=1/Math.min(n,1-n,t,1-t);return{type:"pan-zoom",options:{duration:1+30*Math.random(),to:{x:n,y:t,scale:e}}}}];return n[Math.floor(Math.random()*n.length)]()}function m(){var n=Array.from({length:5},(function(){return{mimetype:"image/jpeg",url:"https://placekitten.com/".concat(300+Math.floor(100*Math.random()),"/").concat(300+Math.floor(100*Math.random()))}})),t=function(n){for(var t=(0,c.default)(n),e=t.length;e>0;e-=1){var o=Math.floor(Math.random()*e),r=t[e-1];t[e-1]=t[o],t[o]=r}return t}((0,c.default)(n).concat((0,c.default)([{mimetype:"video/mp4",url:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}])));return{oneShot:[{action:"preload",args:t.map((function(n){return(0,i.default)({},n)}))}],loop:t.map((function(n){return function(n){return{action:"show",args:(0,u.default)((0,i.default)({},n),{fit:["contain","cover"][Math.floor(2*Math.random())],color:"black",transition:(t=[function(){return{type:"none",options:{}}},function(){return{type:"fade",options:{duration:1+5*Math.random(),color:"black"}}},function(){return{type:"cross-fade",options:{duration:1+5*Math.random()}}}],t[Math.floor(Math.random()*t.length)]()),animation:h()})};var t}((0,i.default)({},n))}))}}r("gnPPc");var g=!1;function y(){return(y=(0,a.default)(n(l).mark((function t(){var e,o,r,a,i,u,c,d,h,y;return n(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(n(f));case 2:e=document.querySelector("hilbert-gallery-viewer"),(0,s.strict)(null!==e),Object.assign(window,{viewer:e}),console.info("Call viewer.execute(action, args) to execute your own actions."),o=m(),console.log(JSON.stringify(o,null,2),o),o.oneShot.forEach((function(n){var t=n.action,o=n.args;e.execute(t,o).catch((function(n){return console.error(n)}))})),r=0;case 10:if(!(r<o.loop.length)||g){t.next=25;break}return a=o.loop[r],i=a.action,u=a.args,console.log({action:i,args:u}),t.next=15,e.execute(i,u).catch((function(n){return console.error(n)}));case 15:if("show"!==i){t.next=22;break}return h=null!==(d=null==u||null===(c=u.animation)||void 0===c?void 0:c.duration)&&void 0!==d?d:0,y=h>5?1:1+5*Math.random(),t.next=22,p(h+y);case 22:r=(r+1)%o.loop.length,t.next=10;break;case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object.assign(window,{stopPlayback:function(){g=!0}}),console.info("Call stopPlayback() to stop the default playlist (will finish the current playlist item)."),function(){return y.apply(this,arguments)}().catch((function(n){console.error("Uncaught error",n)}))}();
//# sourceMappingURL=index.57d45b31.js.map
