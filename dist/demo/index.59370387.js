function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=n.parcelRequireebb2;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},n.parcelRequireebb2=o),o.register("6VXLh",(function(e,n){var r,i;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var o={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},i=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o("6VXLh").register(JSON.parse('{"6Wh1a":"index.59370387.js","5lgZ8":"red.632e1a76.png","8YC67":"green.b6ea2843.png","hkKQZ":"yellow.8e632126.png"}'));var a;a=function(t){if("undefined"==typeof document)throw new Error("document-ready only runs in the browser");var e=document.readyState;if("complete"===e||"interactive"===e)return setTimeout(t,0);document.addEventListener("DOMContentLoaded",(function(){t()}))};var s,c,l={},u=function(t){return t&&t.Math==Math&&t};l=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof n&&n)||function(){return this}()||Function("return this")();var d,f;d=!(f=function(t){try{return!!t()}catch(t){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var p,m={};p=!f((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}));var h,v=Function.prototype.call;m=p?v.bind(v):function(){return v.apply(v,arguments)};var y={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,b=g&&!y.call({1:2},1);h=b?function(t){var e=g(this,t);return!!e&&e.enumerable}:y;var w;w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}};var E,S,P={},L={},O=Function.prototype,k=O.bind,C=O.call,j=p&&k.bind(C,C),R=(L=p?function(t){return t&&j(t)}:function(t){return t&&function(){return C.apply(t,arguments)}})({}.toString),z=L("".slice);S=function(t){return z(R(t),8,-1)};var _=Object,A=L("".split);P=f((function(){return!_("z").propertyIsEnumerable(0)}))?function(t){return"String"==S(t)?A(t,""):_(t)}:_;var T,x=TypeError;T=function(t){if(null==t)throw x("Can't call method on "+t);return t},E=function(t){return P(T(t))};var M,D,F,I;I=function(t){return"function"==typeof t},F=function(t){return"object"==typeof t?null!==t:I(t)};var H,N={},V=function(t){return I(t)?t:void 0};H=function(t,e){return arguments.length<2?V(l[t]):l[t]&&l[t][e]};var U={};U=L({}.isPrototypeOf);var G,$,B,W={};W=H("navigator","userAgent")||"";var q,K,X=l.process,Y=l.Deno,Z=X&&X.versions||Y&&Y.version,J=Z&&Z.v8;J&&(K=(q=J.split("."))[0]>0&&q[0]<4?1:+(q[0]+q[1])),!K&&W&&(!(q=W.match(/Edge\/(\d+)/))||q[1]>=74)&&(q=W.match(/Chrome\/(\d+)/))&&(K=+q[1]),B=K,$=!!Object.getOwnPropertySymbols&&!f((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&B&&B<41})),G=$&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var Q=Object;N=G?function(t){return"symbol"==typeof t}:function(t){var e=H("Symbol");return I(e)&&U(e.prototype,Q(t))};var tt,et,nt,rt=String;nt=function(t){try{return rt(t)}catch(t){return"Object"}};var it=TypeError;et=function(t){if(I(t))return t;throw it(nt(t)+" is not a function")},tt=function(t,e){var n=t[e];return null==n?void 0:et(n)};var ot,at=TypeError;ot=function(t,e){var n,r;if("string"===e&&I(n=t.toString)&&!F(r=m(n,t)))return r;if(I(n=t.valueOf)&&!F(r=m(n,t)))return r;if("string"!==e&&I(n=t.toString)&&!F(r=m(n,t)))return r;throw at("Can't convert object to primitive value")};var st,ct;var lt,ut={},dt=Object.defineProperty;lt=function(t,e){try{dt(l,t,{value:e,configurable:!0,writable:!0})}catch(n){l[t]=e}return e};var ft=l["__core-js_shared__"]||lt("__core-js_shared__",{});ut=ft,(ct=function(t,e){return ut[t]||(ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.2",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.2/LICENSE",source:"https://github.com/zloirock/core-js"});var pt,mt={},ht=Object;pt=function(t){return ht(T(t))};var vt=L({}.hasOwnProperty);mt=Object.hasOwn||function(t,e){return vt(pt(t),e)};var yt,gt=0,bt=Math.random(),wt=L(1..toString);yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+wt(++gt+bt,36)};var Et=ct("wks"),St=l.Symbol,Pt=St&&St.for,Lt=G?St:St&&St.withoutSetter||yt;st=function(t){if(!mt(Et,t)||!$&&"string"!=typeof Et[t]){var e="Symbol."+t;$&&mt(St,t)?Et[t]=St[t]:Et[t]=G&&Pt?Pt(e):Lt(e)}return Et[t]};var Ot=TypeError,kt=st("toPrimitive");D=function(t,e){if(!F(t)||N(t))return t;var n,r=tt(t,kt);if(r){if(void 0===e&&(e="default"),n=m(r,t,e),!F(n)||N(n))return n;throw Ot("Can't convert object to primitive value")}return void 0===e&&(e="number"),ot(t,e)},M=function(t){var e=D(t,"string");return N(e)?e:e+""};var Ct,jt,Rt=l.document,zt=F(Rt)&&F(Rt.createElement);jt=function(t){return zt?Rt.createElement(t):{}},Ct=!d&&!f((function(){return 7!=Object.defineProperty(jt("div"),"a",{get:function(){return 7}}).a}));var _t,At,Tt=Object.getOwnPropertyDescriptor,xt=c=d?Tt:function(t,e){if(t=E(t),e=M(e),Ct)try{return Tt(t,e)}catch(t){}if(mt(t,e))return w(!m(h,t,e),t[e])},Mt={};At=d&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var Dt,Ft=String,It=TypeError;Dt=function(t){if(F(t))return t;throw It(Ft(t)+" is not an object")};var Ht=TypeError,Nt=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor;_t=d?At?function(t,e,n){if(Dt(t),e=M(e),Dt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=Vt(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Nt(t,e,n)}:Nt:function(t,e,n){if(Dt(t),e=M(e),Dt(n),Ct)try{return Nt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ht("Accessors not supported");return"value"in n&&(t[e]=n.value),t},Mt=d?function(t,e,n){return _t(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t};var Ut,Gt,$t,Bt=Function.prototype,Wt=d&&Object.getOwnPropertyDescriptor,qt=mt(Bt,"name"),Kt=($t={EXISTS:qt,PROPER:qt&&"something"===function(){}.name,CONFIGURABLE:qt&&(!d||d&&Wt(Bt,"name").configurable)}).CONFIGURABLE,Xt={},Yt=L(Function.toString);I(ut.inspectSource)||(ut.inspectSource=function(t){return Yt(t)}),Xt=ut.inspectSource;var Zt,Jt,Qt=l.WeakMap;Jt=I(Qt)&&/native code/.test(Xt(Qt));var te,ee=ct("keys");te=function(t){return ee[t]||(ee[t]=yt(t))};var ne={};ne={};var re,ie,oe,ae=l.TypeError,se=l.WeakMap;if(Jt||ut.state){var ce=ut.state||(ut.state=new se),le=L(ce.get),ue=L(ce.has),de=L(ce.set);re=function(t,e){if(ue(ce,t))throw new ae("Object already initialized");return e.facade=t,de(ce,t,e),e},ie=function(t){return le(ce,t)||{}},oe=function(t){return ue(ce,t)}}else{var fe=te("state");ne[fe]=!0,re=function(t,e){if(mt(t,fe))throw new ae("Object already initialized");return e.facade=t,Mt(t,fe,e),e},ie=function(t){return mt(t,fe)?t[fe]:{}},oe=function(t){return mt(t,fe)}}var pe=(Zt={set:re,get:ie,has:oe,enforce:function(t){return oe(t)?ie(t):re(t,{})},getterFor:function(t){return function(e){var n;if(!F(e)||(n=ie(e)).type!==t)throw ae("Incompatible receiver, "+t+" required");return n}}}).enforce,me=Zt.get,he=Object.defineProperty,ve=d&&!f((function(){return 8!==he((function(){}),"length",{value:8}).length})),ye=String(String).split("String"),ge=Gt=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!mt(t,"name")||Kt&&t.name!==e)&&he(t,"name",{value:e,configurable:!0}),ve&&n&&mt(n,"arity")&&t.length!==n.arity&&he(t,"length",{value:n.arity});try{n&&mt(n,"constructor")&&n.constructor?d&&he(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=pe(t);return mt(r,"source")||(r.source=ye.join("string"==typeof e?e:"")),t};Function.prototype.toString=ge((function(){return I(this)&&me(this).source||Xt(this)}),"toString"),Ut=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;return I(n)&&Gt(n,o,r),r.global?i?t[e]=n:lt(e,n):(r.unsafe?t[e]&&(i=!0):delete t[e],i?t[e]=n:_t(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})),t};var be,we,Ee,Se,Pe,Le={},Oe={},ke=Math.ceil,Ce=Math.floor;Oe=Math.trunc||function(t){var e=+t;return(e>0?Ce:ke)(e)},Pe=function(t){var e=+t;return e!=e||0===e?0:Oe(e)};var je=Math.max,Re=Math.min;Se=function(t,e){var n=Pe(t);return n<0?je(n+e,0):Re(n,e)};var ze,_e,Ae=Math.min;_e=function(t){return t>0?Ae(Pe(t),9007199254740991):0},ze=function(t){return _e(t.length)};var Te=function(t){return function(e,n,r){var i,o=E(e),a=ze(o),s=Se(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},xe={includes:Te(!0),indexOf:Te(!1)}.indexOf,Me=L([].push);Ee=function(t,e){var n,r=E(t),i=0,o=[];for(n in r)!mt(ne,n)&&mt(r,n)&&Me(o,n);for(;e.length>i;)mt(r,n=e[i++])&&(~xe(o,n)||Me(o,n));return o};var De,Fe={},Ie=(Fe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]).concat("length","prototype");we=Object.getOwnPropertyNames||function(t){return Ee(t,Ie)},De=Object.getOwnPropertySymbols;var He=L([].concat);Le=H("Reflect","ownKeys")||function(t){var e=we(Dt(t));return De?He(e,De(t)):e},be=function(t,e,n){for(var r=Le(e),i=_t,o=c,a=0;a<r.length;a++){var s=r[a];mt(t,s)||n&&mt(n,s)||i(t,s,o(e,s))}};var Ne={},Ve=/#|\.prototype\./,Ue=function(t,e){var n=$e[Ge(t)];return n==We||n!=Be&&(I(e)?f(e):!!e)},Ge=Ue.normalize=function(t){return String(t).replace(Ve,".").toLowerCase()},$e=Ue.data={},Be=Ue.NATIVE="N",We=Ue.POLYFILL="P";Ne=Ue,s=function(t,e){var n,r,i,o,a,s=t.target,c=t.global,u=t.stat;if(n=c?l:u?l[s]||lt(s,{}):(l[s]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=xt(n,r))&&a.value:n[r],!Ne(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;be(o,i)}(t.sham||i&&i.sham)&&Mt(o,"sham",!0),Ut(n,r,o,t)}};var qe;qe=l.Promise;var Ke,Xe,Ye,Ze={},Je={},Qe={};Qe[st("toStringTag")]="z",Ye="[object z]"===String(Qe);var tn=st("toStringTag"),en=Object,nn="Arguments"==S(function(){return arguments}());Je=Ye?S:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=en(t),tn))?n:nn?S(e):"Object"==(r=S(e))&&I(e.callee)?"Arguments":r};var rn=function(){},on=[],an=H("Reflect","construct"),sn=/^\s*(?:class|function)\b/,cn=L(sn.exec),ln=!sn.exec(rn),un=function(t){if(!I(t))return!1;try{return an(rn,on,t),!0}catch(t){return!1}},dn=function(t){if(!I(t))return!1;switch(Je(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ln||!!cn(sn,Xt(t))}catch(t){return!0}};dn.sham=!0,Ze=!an||f((function(){var t;return un(un.call)||!un(Object)||!un((function(){t=!0}))||t}))?dn:un;var fn=TypeError;Xe=function(t){if(Ze(t))return t;throw fn(nt(t)+" is not a constructor")};var pn=st("species");Ke=function(t,e){var n,r=Dt(t).constructor;return void 0===r||null==(n=Dt(r)[pn])?e:Xe(n)};var mn,hn,vn=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=et(e),this.reject=et(n)};hn=function(t){return new vn(t)},mn=function(t,e){if(Dt(t),F(e)&&e.constructor===t)return e;var n=hn(t);return(0,n.resolve)(e),n.promise};var yn=qe&&qe.prototype,gn=!!qe&&f((function(){yn.finally.call({then:function(){}},(function(){}))}));if(s({target:"Promise",proto:!0,real:!0,forced:gn},{finally:function(t){var e=Ke(this,H("Promise")),n=I(t);return this.then(n?function(n){return mn(e,t()).then((function(){return n}))}:t,n?function(n){return mn(e,t()).then((function(){throw n}))}:t)}}),I(qe)){var bn=H("Promise").prototype.finally;yn.finally!==bn&&Ut(yn,"finally",bn,{unsafe:!0})}var wn;wn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var En,Sn=jt("span").classList,Pn=Sn&&Sn.constructor&&Sn.constructor.prototype;En=Pn===Object.prototype?void 0:Pn;var Ln,On,kn,Cn={},jn={};jn=Object.keys||function(t){return Ee(t,Fe)},kn=d&&!At?Object.defineProperties:function(t,e){Dt(t);for(var n,r=E(e),i=jn(e),o=i.length,a=0;o>a;)_t(t,n=i[a++],r[n]);return t};var Rn={};Rn=H("document","documentElement");var zn,_n=te("IE_PROTO"),An=function(){},Tn=function(t){return"<script>"+t+"<\/script>"},xn=function(t){t.write(Tn("")),t.close();var e=t.parentWindow.Object;return t=null,e},Mn=function(){try{zn=new ActiveXObject("htmlfile")}catch(t){}var t,e;Mn="undefined"!=typeof document?document.domain&&zn?xn(zn):((e=jt("iframe")).style.display="none",Rn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Tn("document.F=Object")),t.close(),t.F):xn(zn);for(var n=Fe.length;n--;)delete Mn.prototype[Fe[n]];return Mn()};ne[_n]=!0,Cn=Object.create||function(t,e){var n;return null!==t?(An.prototype=Dt(t),n=new An,An.prototype=null,n[_n]=t):n=Mn(),void 0===e?n:kn(n,e)};var Dn=_t,Fn=st("unscopables"),In=Array.prototype;null==In[Fn]&&Dn(In,Fn,{configurable:!0,value:Cn(null)}),On=function(t){In[Fn][t]=!0};var Hn={};Hn={};var Nn,Vn,Un,Gn,$n=_t,Bn={};Gn=!f((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}));var Wn=te("IE_PROTO"),qn=Object,Kn=qn.prototype;Bn=Gn?qn.getPrototypeOf:function(t){var e=pt(t);if(mt(e,Wn))return e[Wn];var n=e.constructor;return I(n)&&e instanceof n?n.prototype:e instanceof qn?Kn:null};var Xn,Yn,Zn,Jn=st("iterator"),Qn=!1;[].keys&&("next"in(Zn=[].keys())?(Yn=Bn(Bn(Zn)))!==Object.prototype&&(Xn=Yn):Qn=!0),(null==Xn||f((function(){var t={};return Xn[Jn].call(t)!==t})))&&(Xn={}),I(Xn[Jn])||Ut(Xn,Jn,(function(){return this}));var tr,er=(Un={IteratorPrototype:Xn,BUGGY_SAFARI_ITERATORS:Qn}).IteratorPrototype,nr=_t,rr=st("toStringTag");tr=function(t,e,n){t&&!n&&(t=t.prototype),t&&!mt(t,rr)&&nr(t,rr,{configurable:!0,value:e})};var ir=function(){return this};Vn=function(t,e,n,r){var i=e+" Iterator";return t.prototype=Cn(er,{next:w(+!r,n)}),tr(t,i,!1),Hn[i]=ir,t};var or,ar={},sr=String,cr=TypeError;or=function(t){if("object"==typeof t||I(t))return t;throw cr("Can't set "+sr(t)+" as a prototype")},ar=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=L(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Dt(n),or(r),e?t(n,r):n.__proto__=r,n}}():void 0);var lr=$t.PROPER,ur=$t.CONFIGURABLE,dr=Un.IteratorPrototype,fr=Un.BUGGY_SAFARI_ITERATORS,pr=st("iterator"),mr=function(){return this};Nn=function(t,e,n,r,i,o,a){Vn(n,e,r);var c,l,u,d=function(t){if(t===i&&y)return y;if(!fr&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,h=t.prototype,v=h[pr]||h["@@iterator"]||i&&h[i],y=!fr&&v||d(i),g="Array"==e&&h.entries||v;if(g&&(c=Bn(g.call(new t)))!==Object.prototype&&c.next&&(Bn(c)!==dr&&(ar?ar(c,dr):I(c[pr])||Ut(c,pr,mr)),tr(c,f,!0)),lr&&"values"==i&&v&&"values"!==v.name&&(ur?Mt(h,"name","values"):(p=!0,y=function(){return m(v,this)})),i)if(l={values:d("values"),keys:o?y:d("keys"),entries:d("entries")},a)for(u in l)(fr||p||!(u in h))&&Ut(h,u,l[u]);else s({target:e,proto:!0,forced:fr||p},l);return h[pr]!==y&&Ut(h,pr,y,{name:i}),Hn[e]=y,l};var hr=Zt.set,vr=Zt.getterFor("Array Iterator");Ln=Nn(Array,"Array",(function(t,e){hr(this,{type:"Array Iterator",target:E(t),index:0,kind:e})}),(function(){var t=vr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var yr=Hn.Arguments=Hn.Array;if(On("keys"),On("values"),On("entries"),d&&"values"!==yr.name)try{$n(yr,"name",{value:"values"})}catch(t){}var gr=st("iterator"),br=st("toStringTag"),wr=Ln.values,Er=function(t,e){if(t){if(t[gr]!==wr)try{Mt(t,gr,wr)}catch(e){t[gr]=wr}if(t[br]||Mt(t,br,e),wn[e])for(var n in Ln)if(t[n]!==Ln[n])try{Mt(t,n,Ln[n])}catch(e){t[n]=Ln[n]}}};for(var Sr in wn)Er(l[Sr]&&l[Sr].prototype,Sr);Er(En,"DOMTokenList");class Pr{buildExecutor(t){const e=this.unpack(t);return()=>this.execute(e)}constructor(t){this.state=t}}function Lr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Or{preload(t,e){const n=t.split("/",1)[0],r=this.typeRegistry.get(n);return!!r&&(r(e),!0)}preloadImage(t){const{href:e}=new URL(t),n=new Image;n.src=e,this.refs.set(e,n)}preloadVideo(t){const{href:e}=new URL(t),n=document.createElement("video");n.preload="auto",n.src=e,this.refs.set(e,n)}unref(...t){0===t.length?this.refs.clear():t.forEach((t=>this.refs.delete(t)))}constructor(){Lr(this,"refs",new Map),Lr(this,"typeRegistry",new Map),this.typeRegistry.set("image",this.preloadImage.bind(this)),this.typeRegistry.set("video",this.preloadVideo.bind(this))}}class kr extends Pr{async execute(t){return this.preloader.unref(),t.forEach((({mimetype:t,url:e})=>this.preloader.preload(t,e))),Promise.resolve()}unpack(t){if(!Array.isArray(t))throw new TypeError("PreloadAction.unpack(arg): arg must be an array");return t.forEach(((t,e)=>{const{mimetype:n,url:r}=t;if("string"!=typeof n)throw new TypeError(`PreloadAction.unpack(arg): item ${e} of args must have a mimetype`);if("string"!=typeof r)throw new TypeError(`PreloadAction.unpack(arg): item ${e} of arg must have an url`)})),t}constructor(t){super(t),this.preloader=new Or}}let Cr;!function(t){t[t.OFF=0]="OFF",t[t.ERROR=200]="ERROR",t[t.WARN=300]="WARN",t[t.INFO=400]="INFO",t[t.DEBUG=500]="DEBUG",t[t.TRACE=600]="TRACE"}(Cr||(Cr={}));class jr{error(...t){this.level>=Cr.ERROR&&console.error(...t)}assert(t,...e){this.level>=Cr.ERROR&&console.assert(t,...e)}warn(...t){this.level>=Cr.WARN&&console.warn(...t)}info(...t){this.level>=Cr.INFO&&console.info(...t)}debug(...t){this.level>=Cr.DEBUG&&console.debug(...t)}trace(...t){this.level>=Cr.TRACE&&console.trace(...t)}constructor(t=Cr.INFO){this.level=t}}class Rr extends Pr{async execute(){return window.location.reload(),Promise.resolve()}unpack(){}constructor(t){super(t)}}class zr{static create(t,e,n="cover"){let r;switch(t.split("/",1)[0]){case"image":r=zr.createImage(e);break;case"video":r=zr.createVideo(e);break;default:r=zr.createObject(t,e)}return r.classList.add("content"),r.classList.add(`fit-${n}`),r}static createObject(t,e){const n=document.createElement("object");return n.type=t,n.data=e,n}static createImage(t){const e=document.createElement("img");return e.src=t,e}static createVideo(t){const e=document.createElement("video");return e.preload="auto",e.src=t,e.autoplay=!1,e}static async awaitLoad(t){return new Promise((e=>{if("IMG"===t.tagName){const n=t;if(n.complete)e(t);else{const r=()=>{n.removeEventListener("load",r),n.removeEventListener("error",r),requestAnimationFrame((()=>e(t)))};n.addEventListener("load",r),n.addEventListener("error",r)}}else setTimeout((()=>e(t)),1e3)}))}static play(t){if("VIDEO"===t.tagName){t.play().finally((()=>{}))}}}class _r{promise(){return this._promise}resolve(t){return this._resolve(t)}reject(){return this._reject()}constructor(){let t=t=>{},e=()=>{};this._promise=new Promise(((n,r)=>{t=n,e=r})),this._resolve=t,this._reject=e}}class Ar{isCancelled(){return this._isCancelled}targetVisible(){return this.targetVisiblePEC.promise()}done(){return this.donePEC.promise()}isDone(){return this._isDone}constructor(t,e,n){Lr(this,"_isCancelled",!1),Lr(this,"_isDone",!1),this.container=t,this.from=e,this.to=n,this.targetVisiblePEC=new _r,this.donePEC=new _r,this.targetVisiblePEC.promise().catch((()=>{})),this.donePEC.promise().catch((()=>{}))}}class Tr extends Ar{cancel(){}targetVisible(){return Promise.resolve()}done(){return Promise.resolve()}static unpack(){}static prepare(){return(t,e,n)=>new Tr(t,e,n)}static getStyleSheetAsString(){return""}constructor(t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div")){super(t,e,n),this._isCancelled=!1,this._isDone=!0}}const xr={duration:500,color:"#000"};class Mr extends Ar{end(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.targetVisiblePEC.resolve(),this.donePEC.resolve())}cancel(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.targetVisiblePEC.resolve(),this.donePEC.reject())}cleanup(){this.from.removeEventListener("animationend",this.fromEndCancelHandler),this.from.removeEventListener("animationcancel",this.fromEndCancelHandler),this.to.removeEventListener("animationend",this.toEndHandler),this.to.removeEventListener("animationcancel",this.toCancelHandler);const{style:t}=this.container;t.removeProperty("--transition-fade-duration"),t.removeProperty("--transition-fade-color"),this.from.classList.remove("fade"),this.from.classList.remove("fade-out"),this.to.classList.remove("fade"),this.to.classList.remove("fade-in")}static unpack(t){return t}static prepare(t){const e=Mr.unpack(t);return(t,n,r)=>new Mr(t,n,r,e)}static getStyleSheetAsString(){return e("@-webkit-keyframes transition-fade-out{0%{opacity:1}to{opacity:0}}@keyframes transition-fade-out{0%{opacity:1}to{opacity:0}}@-webkit-keyframes transition-fade-in{0%{opacity:0}to{opacity:1}}@keyframes transition-fade-in{0%{opacity:0}to{opacity:1}}.container{--transition-fade-color:black;--transition-fade-duration:1s;--transition-fade-duration-half:calc(var(--transition-fade-duration)/2);background-color:var(--transition-fade-color)}.container>.transition.fade{-webkit-animation-duration:var(--transition-fade-duration-half);-webkit-animation-duration:var(--transition-fade-duration-half);animation-duration:var(--transition-fade-duration-half);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.container>.transition.fade.fade-out{-webkit-animation-name:transition-fade-out;animation-name:transition-fade-out}.container>.transition.fade.fade-in{-webkit-animation-name:transition-fade-in;animation-name:transition-fade-in;-webkit-animation-delay:var(--transition-fade-duration-half);-webkit-animation-delay:var(--transition-fade-duration-half);animation-delay:var(--transition-fade-duration-half)}")}constructor(t,e,n,r){super(t,e,n);const{duration:i,color:o}={...xr,...null!=r?r:{}},{style:a}=t;a.setProperty("--transition-fade-duration",`${i}s`),a.setProperty("--transition-fade-color",`${o}`),e.classList.add("fade"),e.classList.add("fade-out"),this.fromEndCancelHandler=({animationName:t})=>{"transition-fade-out"===t&&this.targetVisiblePEC.resolve()},e.addEventListener("animationend",this.fromEndCancelHandler),e.addEventListener("animationcancel",this.fromEndCancelHandler),n.classList.add("fade"),n.classList.add("fade-in"),this.toEndHandler=({animationName:t})=>{"transition-fade-in"===t&&this.end()},this.toCancelHandler=({animationName:t})=>{"transition-fade-in"===t&&this.cancel()},n.addEventListener("animationend",this.toEndHandler),n.addEventListener("animationcancel",this.toCancelHandler)}}const Dr={duration:500};class Fr extends Ar{end(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.donePEC.resolve())}cancel(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.donePEC.reject())}cleanup(){this.to.removeEventListener("animationend",this.toEndHandler),this.to.removeEventListener("animationcancel",this.toCancelHandler);const{style:t}=this.container;t.removeProperty("--transition-cross-fade-duration"),this.from.classList.remove("cross-fade"),this.from.classList.remove("cross-fade-out"),this.to.classList.remove("cross-fade"),this.to.classList.remove("cross-fade-in")}static unpack(t){return t}static prepare(t){const e=Fr.unpack(t);return(t,n,r)=>new Fr(t,n,r,e)}static getStyleSheetAsString(){return e("@-webkit-keyframes transition-cross-fade-in{0%{opacity:0}to{opacity:1}}@keyframes transition-cross-fade-in{0%{opacity:0}to{opacity:1}}.container{--transition-cross-fade-duration:1s}.container>.transition.cross-fade.cross-fade-in{-webkit-animation-duration:var(--transition-cross-fade-duration);-webkit-animation-duration:var(--transition-cross-fade-duration);animation-duration:var(--transition-cross-fade-duration);-webkit-animation-name:transition-cross-fade-in;animation-name:transition-cross-fade-in;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}")}constructor(t,e,n,r){super(t,e,n);const{duration:i}={...Dr,...null!=r?r:{}},{style:o}=t;o.setProperty("--transition-cross-fade-duration",`${i}s`),e.classList.add("cross-fade"),e.classList.add("cross-fade-out"),n.classList.add("cross-fade"),n.classList.add("cross-fade-in"),this.toEndHandler=({animationName:t})=>{"transition-cross-fade-in"===t&&this.end()},this.toCancelHandler=({animationName:t})=>{"transition-cross-fade-in"===t&&this.cancel()},n.addEventListener("animationend",this.toEndHandler),n.addEventListener("animationcancel",this.toCancelHandler),this.targetVisiblePEC.resolve()}}function Ir(t,e,n){const r=document.createElement("style");void 0!==n&&(r.id=n),r.textContent=e;const i=t.querySelector("style[type='text/css']:last-of-type, style:not([type]):last-of-type");null===i?t.prepend(r):i.after(r)}class Hr{registerKnownTransitions(){this.register("none",Tr),this.register("fade",Mr),this.register("cross-fade",Fr)}register(t,e){if(this.transitionRegistry.has(t))throw new Error("Transition type already registered");Ir(this.root,e.getStyleSheetAsString(),`transition-${t}`),this.transitionRegistry.set(t,e)}prepare(t="none",e={}){const n=this.transitionRegistry.get(t);if(!n)throw new Error(`Unknown transition type: ${t}`);return n.prepare(e)}constructor(t){Lr(this,"transitionRegistry",new Map),this.root=t,this.registerKnownTransitions()}}class Nr{isCancelled(){return this._isCancelled}done(){return this.donePEC.promise()}isDone(){return this._isDone}constructor(t,e){Lr(this,"_isCancelled",!1),Lr(this,"_isDone",!1),this.wrapper=t,this.content=e,this.donePEC=new _r,this.donePEC.promise().catch((()=>{}))}}class Vr extends Nr{cancel(){}targetVisible(){return Promise.resolve()}done(){return Promise.resolve()}static unpack(){}static prepare(){return(t,e)=>new Vr(t,e)}static getStyleSheetAsString(){return""}constructor(t=document.createElement("div"),e=document.createElement("div")){super(t,e),this._isCancelled=!1,this._isDone=!0}}function Ur(t,e,n,r){void 0!==r&&t.style.setProperty(e,n(r))}class Gr extends Nr{async asyncInit(t){if(this.wrapper.classList.add("animation-pan-zoom"),void 0!==t.from)try{const{from:e}=t;this.setDefinedCssProperties(0,e),await new Promise((t=>{requestAnimationFrame(t)}))}catch(t){}if(!this.isCancelled()){const{duration:e,to:n}=t;this.setDefinedCssProperties(e,n),this.endHandler=({animationName:t})=>{"animation-pan-zoom-animation"===t&&this.end()},this.cancelHandler=({animationName:t})=>{"animation-pan-zoom-animation"===t&&this.cancel()},this.wrapper.addEventListener("animationend",this.endHandler),this.wrapper.addEventListener("animationcancel",this.cancelHandler)}}setDefinedCssProperties(t,{x:e,y:n,scale:r}){const{wrapper:i}=this,o=Ur;o(i,"--animation-pan-zoom-duration",(t=>`${t}s`),t),o(i,"--animation-pan-zoom-target-x",(t=>`${t}`),e),o(i,"--animation-pan-zoom-target-y",(t=>`${t}`),n),o(i,"--animation-pan-zoom-target-scale",(t=>`${t}`),r)}end(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.donePEC.resolve())}cancel(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.donePEC.reject())}cleanup(){const{wrapper:t}=this;t.addEventListener("animationend",this.endHandler),t.addEventListener("animationcancel",this.cancelHandler)}static unpack(t){return t}static prepare(t){const e=Gr.unpack(t);return(t,n)=>new Gr(t,n,e)}static getStyleSheetAsString(){return e("@-webkit-keyframes animation-pan-zoom-animation{0%{top:0;left:0}to{top:calc(50% - 50%*var(--animation-pan-zoom-target-scale));left:calc(50% - 50%*var(--animation-pan-zoom-target-scale))}}@keyframes animation-pan-zoom-animation{0%{top:0;left:0}to{top:calc(50% - 50%*var(--animation-pan-zoom-target-scale));left:calc(50% - 50%*var(--animation-pan-zoom-target-scale))}}@-webkit-keyframes animation-pan-zoom-content{0%{width:100%;height:100%;object-position:50% 50%;top:0;left:0}to{left:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-x)));top:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-y)));width:calc(100%*var(--animation-pan-zoom-target-scale));height:calc(100%*var(--animation-pan-zoom-target-scale));object-position:calc(100%*var(--animation-pan-zoom-target-x))calc(100%*var(--animation-pan-zoom-target-y))}}@keyframes animation-pan-zoom-content{0%{width:100%;height:100%;object-position:50% 50%;top:0;left:0}to{left:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-x)));top:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-y)));width:calc(100%*var(--animation-pan-zoom-target-scale));height:calc(100%*var(--animation-pan-zoom-target-scale));object-position:calc(100%*var(--animation-pan-zoom-target-x))calc(100%*var(--animation-pan-zoom-target-y))}}.container>.transition>.animation.animation-pan-zoom{--animation-pan-zoom-duration:0s;--animation-pan-zoom-target-x:.5;--animation-pan-zoom-target-y:.5;--animation-pan-zoom-target-scale:1;-webkit-animation-name:animation-pan-zoom-animation;animation-name:animation-pan-zoom-animation}.container>.transition>.animation.animation-pan-zoom,.container>.transition>.animation.animation-pan-zoom>*{-webkit-animation-duration:var(--animation-pan-zoom-duration);-webkit-animation-duration:var(--animation-pan-zoom-duration);animation-duration:var(--animation-pan-zoom-duration);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.container>.transition>.animation.animation-pan-zoom>*{-webkit-animation-name:animation-pan-zoom-content;animation-name:animation-pan-zoom-content;position:relative}.sdfdsf-resizable>div{--zoom-factor:1;--pan-target-x:.5;--pan-target-y:.5;--transition-duration:10s;width:100%;height:100%;top:calc(50% - 50%*var(--zoom-factor));left:calc(50% - 50%*var(--zoom-factor));z-index:-1;transition-property:top,left,width,height;position:relative}.sdfdsf-resizable>div,.sdfdsf-resizable>div *{transition-duration:var(--transition-duration)}.sdfdsf-resizable>div img{left:calc(100%*var(--zoom-factor)*(.5 - var(--pan-target-x)));top:calc(100%*var(--zoom-factor)*(.5 - var(--pan-target-y)));width:calc(100%*var(--zoom-factor));height:calc(100%*var(--zoom-factor));object-fit:cover;object-position:calc(100%*var(--pan-target-x))calc(100%*var(--pan-target-y));transition-property:top,left,width,height,object-position;position:relative}")}constructor(t,e,n){super(t,e),this.endHandler=()=>{},this.cancelHandler=()=>{},this.asyncInit(n).finally((()=>{}))}}class $r{registerKnownTransitions(){this.register("none",Vr),this.register("pan-zoom",Gr)}register(t,e){if(this.animationRegistry.has(t))throw new Error("Animation type already registered");Ir(this.root,e.getStyleSheetAsString(),`animation-${t}`),this.animationRegistry.set(t,e)}prepare(t="none",e={}){const n=this.animationRegistry.get(t);if(!n)throw new Error(`Unknown animation type: ${t}`);return n.prepare(e)}constructor(t){Lr(this,"animationRegistry",new Map),this.root=t,this.registerKnownTransitions()}}class Br extends Pr{removePrevious(){const{container:t}=this.state;for(;t.children.length>1;)t.children[0].remove()}cleanup(){this.transition.cancel(),this.animation.cancel(),this.removePrevious()}appendCurrentContent(t,e){const n=document.createElement("div");n.classList.add("animation"),n.appendChild(t);const r=document.createElement("div");r.classList.add("transition"),r.style.setProperty("--transition-background-color",e),r.appendChild(n);const{container:i}=this.state;return i.appendChild(r),{transition:r,animation:n,content:t}}async execute(t){const{mimetype:e,url:n,fit:r,color:i}=t,o=this.prepareTransition(t),a=this.prepareAnimation(t),s=zr.create(e,n,r);try{await zr.awaitLoad(s)}catch(t){this.state.log.warn("Waiting for content to load failed. Proceeding anyway.")}this.cleanup();const c=this.current;this.current=this.appendCurrentContent(s,null!=i?i:"cyan"),this.transition=this.createTransition(o,c);try{await this.transition.targetVisible()}catch(t){this.state.log.warn("Waiting for target to become visible failed. Proceeding anyway.")}zr.play(s),this.animation=this.createAnimation(a);try{await this.transition.done()}catch(t){const e="Waiting for transition to end failed. Proceeding anyway";t?this.state.log.warn(e,t):this.state.log.warn(e)}this.removePrevious()}prepareTransition(t){const{transition:e}=t,{type:n,options:r}=null!=e?e:{type:"none",options:{}};return this.transitionFactory.prepare(n,r)}prepareAnimation(t){const{animation:e}=t,{type:n,options:r}=null!=e?e:{type:"none",options:{}};return this.animationFactory.prepare(n,r)}createTransition(t,e){const{container:n}=this.state;return t(n,e.transition,this.current.transition)}createAnimation(t){const{animation:e,content:n}=this.current;return t(e,n)}unpack(t){if("object"!=typeof t)throw new TypeError("ShowAction.unpack(arg): arg must be an object");return t}constructor(t){super(t),this.transitionFactory=new Hr(t.shadowRoot),this.animationFactory=new $r(t.shadowRoot),this.transition=new Tr,this.animation=new Vr;const e=document.createElement("div");this.current=this.appendCurrentContent(e,"black")}}class Wr extends HTMLElement{createActionRegistry(){const t=new Map;return t.set("reload",new Rr(this.state)),t.set("preload",new kr(this.state)),t.set("show",new Br(this.state)),t}async execute(t,e){await this.executeImpl(t,e)}async executeImpl(t,e){const n=this.actionRegistry.get(t);if(!n)throw new TypeError("HilbertGalleryViewer.execute(): unknown action");{const t=n.buildExecutor(e);await t()}}constructor(){super();const t=this.attachShadow({mode:"open"});Ir(t,e(":host{width:100%;height:100%;position:relative}:host>.container{width:100%;height:100%;position:relative}:host>.container>.transition{--transition-background-color:black;background-color:var(--transition-background-color);width:100%;height:100%;position:absolute}:host>.container>.transition>.animation,:host>.container>.transition>.animation>.content{width:100%;height:100%;position:relative}:host>.container>.transition>.animation>.content.fit-contain{object-fit:contain}:host>.container>.transition>.animation>.content.fit-cover{object-fit:cover}"));const n=document.createElement("div");n.classList.add("container"),t.appendChild(n),this.state={log:new jr(Cr.WARN),shadowRoot:t,container:n},this.actionRegistry=this.createActionRegistry()}}async function qr(t){await new Promise((e=>{setTimeout(e,1e3*t)}))}function Kr(){const t=[()=>({type:"none",options:{}}),()=>({type:"fade",options:{duration:1+5*Math.random(),color:"black"}}),()=>({type:"cross-fade",options:{duration:1+5*Math.random()}})];return t[Math.floor(Math.random()*t.length)]()}function Xr(){const t=[()=>({type:"none",options:{}}),()=>{const t=.25+.5*Math.random(),e=.25+.5*Math.random(),n=1/Math.min(t,1-t,e,1-e);return{type:"pan-zoom",options:{duration:1+30*Math.random(),to:{x:t,y:e,scale:n}}}}];return t[Math.floor(Math.random()*t.length)]()}customElements.define("hilbert-gallery-viewer",Wr);var Yr;Yr=new URL(o("6VXLh").resolve("5lgZ8"),import.meta.url).toString();var Zr;Zr=new URL(o("6VXLh").resolve("8YC67"),import.meta.url).toString();var Jr;function Qr(){const t=Array.from({length:5},(()=>({mimetype:"image/jpeg",url:`https://placekitten.com/${300+Math.floor(100*Math.random())}/${300+Math.floor(100*Math.random())}`}))),e=([new URL(Yr).href,new URL(Zr).href,new URL(Jr).href].map((t=>({mimetype:"image/png",url:t}))),function(t){const e=[...t];for(let t=e.length;t>0;t-=1){const n=Math.floor(Math.random()*t),r=e[t-1];e[t-1]=e[n],e[n]=r}return e}([...t,{mimetype:"video/mp4",url:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}]));return{oneShot:[{action:"preload",args:e.map((t=>({...t})))}],loop:e.map((t=>function(t){return{action:"show",args:{...t,fit:["contain","cover"][Math.floor(2*Math.random())],transition:Kr(),animation:Xr()}}}({...t})))}}Jr=new URL(o("6VXLh").resolve("hkKQZ"),import.meta.url).toString();let ti=!1;Object.assign(window,{stopPlayback:function(){ti=!0}}),console.info("Call stopPlayback() to stop the default playlist (will finish the current playlist item)."),async function(){await new Promise(e(a));const t=document.querySelector("hilbert-gallery-viewer");Object.assign(window,{viewer:t}),console.info("Call viewer.execute(action, args) to execute your own actions.");const n=Qr();console.log(JSON.stringify(n,null,2),n),n.oneShot.forEach((({action:e,args:n})=>{t.execute(e,n).catch((t=>console.error(t)))}));for(let e=0;e<n.loop.length&&!ti;e=(e+1)%n.loop.length){const{action:o,args:a}=n.loop[e];if(await t.execute(o,a).catch((t=>console.error(t))),"show"===o){var r,i;const t=null!==(i=null==a||null===(r=a.animation)||void 0===r?void 0:r.duration)&&void 0!==i?i:0,e=t>5?1:1+5*Math.random();await qr(t+e)}}}().catch((function(t){console.error("Uncaught error",t)}));
//# sourceMappingURL=index.59370387.js.map
