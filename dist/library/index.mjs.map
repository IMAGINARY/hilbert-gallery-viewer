{"mappings":"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AAC;QAEhC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAE3B,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,GAArB;YACE,IAAI,cAAc,CAAC,EAAE,CAAC,EACpB,IAAI,CAAC,GAAG,EAAE,CAAC;SAEd,CAAC;QACF,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,GAAxB;YACE,IAAI,iBAAiB,CAAC,EAAE,CAAC,EACvB,IAAI,CAAC,SAAS,EAAE,CAAC;SAEpB,CAAC;QAEF,OAAO,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1D,OAAO,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;KACjE;CAoDF;IAED,wCAAiC,GAAlB,uCAAiB;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,qC,A;AHzGhC,wFAAwF;AACxF,MAAM,gDAA0B,GAAG;IACjC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACzC;CACsC,AAAC;AAE1C,MAAM,kDAA4B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAAC,gDAA0B,CAAC,AAAC;AAG5E,IAAM,yCAAa,GAAA,qCAAA,GAAnB,MAAM,aAAc,SAAQ,CAAA,GAAA,wCAAiB,CAAA;IAK3C,OAAO,8BAA8B,CACnC,OAA6B,EAD/B;QAGE,MAAM,oBAAoB,GAAG,CAAC,iBAAE,aAAa,CAAA,EAAkB,GAC7D,aAAa,KAAK,gBAAgB,AAAC;QAErC,MAAM,iBAAiB,GAAG,CAAC,CAAc,GAAzC;YACE,MAAM,SAAE,KAAK,CAAA,YAAE,QAAQ,CAAA,EAAE,GAAG,OAAO,AAAC;YACpC,MAAM,CAAC,GAAG,CAAA,GAAA,yCAAuB,CAAA,AAAC;YAClC,CAAC,CAAC,CAAC,EAAE,wBAAwB,EAAE,CAAC,CAAC,GAAK,CAAA,EAAG,CAAC,CAAA,CAAA,CAAG,EAAE,KAAK,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC,EAAE,2BAA2B,EAAE,CAAC,CAAC,GAAK,CAAA,EAAG,CAAC,CAAA,CAAA,CAAG,EAAE,QAAQ,CAAC,CAAC;SAC7D,AAAC;QAEF,MAAM,kBAAkB,GAAG,CAAC,CAAc,GAA1C;YACE,MAAM,aAAa,GAAG;gBACpB,wBAAwB;gBACxB,2BAA2B;aAC5B,AAAC;YACF,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,GAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;SACzD,AAAC;QAEF,OAAO;YACL,SAAS,EAAE;gBAAC,WAAW;gBAAE,gBAAgB;aAAC;YAC1C,cAAc,EAAE,oBAAoB;YACpC,iBAAiB,EAAE,oBAAoB;+BACvC,iBAAiB;gCACjB,kBAAkB;YAClB,WAAW,EAAE,KAAK;YAClB,cAAc,EAAE,KAAK;SACtB,CAAC;KACH;IAED,OAAO,MAAM,CAAC,OAAgB,EAA9B;QACE,OAAO,kDAA4B,CAAC,OAAO,CAAC,CAAC;KAC9C;IAED,OAAO,OAAO,CAAC,OAAgB,EAA/B;QACE,MAAM,eAAe,GAAG,qCAAa,CAAC,MAAM,CAAC,OAAO,CAAC,AAAC;QACtD,OAAO,CAAC,OAAoB,GAC1B,IAAI,qCAAa,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;KAC/C;IAED,OAAO,qBAAqB,GAA5B;QACE,OAAO,GAAA,gEAAO,CAAC;KAChB;IAhDD,YAAY,OAAoB,EAAE,OAA6B,CAA/D;QACE,KAAK,CAAC,OAAO,EAAE,qCAAa,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC,CAAC;KACvE;CA+CF,AAAA;AAlDK,yCAAa,GAAb,qCAAA,GAAA,gCAAA,CAAA;IADL,CAAA,GAAA,yCAAgB,CAAA,EAAwD;CACnE,EAAA,yCAAa,CAkDlB,CAlDK;;;;;;;AOtBN,yBAAc,GAAG,kBAAkB,CAAC;;A;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,wC,A;ADmBpC,wFAAwF;AACxF,MAAM,uCAAiB,GAAG;IACxB,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,CAAC,EAAE;YAAE,IAAI,EAAE,QAAQ;SAAE;QACrB,CAAC,EAAE;YAAE,IAAI,EAAE,QAAQ;SAAE;QACrB,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACtC;CACiD,AAAC;AAErD,wFAAwF;AACxF,MAAM,mDAA6B,GAAG;IACpC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACxC,IAAI,EAAE,uCAAiB;QACvB,EAAE,EAAE,uCAAiB;KACtB;CACyC,AAAC;AAE7C,MAAM,qDAA+B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAChD,mDAA6B,CAC9B,AAAC;AAGF,IAAqB,yCAAgB,GAAA,wCAAA,GAArC,MAAqB,gBAAiB,SAAQ,CAAA,GAAA,wCAAiB,CAAA;IAK7D,OAAO,8BAA8B,CACnC,OAAgC,EADlC;QAGE,MAAM,oBAAoB,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,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;KACpD;CACF;IAMD,wCAAkC,GAAnB,wCAAkB;;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,sC,A;AHZjC,wFAAwF;AACxF,MAAM,iDAA2B,GAAG;IAClC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACzC;CACuC,AAAC;AAE3C,MAAM,mDAA6B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAAC,iDAA2B,CAAC,AAAC;AAG9E,IAAqB,wCAAc,GAAA,sCAAA,GAAnC,MAAqB,cAAe,SAAQ,CAAA,GAAA,wCAAkB,CAAA;IAO5D,OAAO,+BAA+B,CACpC,OAA8B,EADhC;QAGE,MAAM,oBAAoB,GAAG,CAAC,iBAAE,aAAa,CAAA,EAAkB,GAC7D,aAAa,KAAK,iBAAiB,AAAC;QAEtC,MAAM,SAAE,KAAK,CAAA,YAAE,QAAQ,CAAA,EAAE,GAAG,OAAO,AAAC;QAEpC,MAAM,iBAAiB,GAAG,CAAC,CAAc,GAAzC;YACE,MAAM,CAAC,GAAG,CAAA,GAAA,yCAAuB,CAAA,AAAC;YAClC,CAAC,CAAC,CAAC,EAAE,yBAAyB,EAAE,CAAC,CAAC,GAAK,CAAA,EAAG,CAAC,CAAA,CAAA,CAAG,EAAE,KAAK,CAAC,CAAC;YACvD,CAAC,CAAC,CAAC,EAAE,4BAA4B,EAAE,CAAC,CAAC,GAAK,CAAA,EAAG,CAAC,C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","sources":["src/library/ts/index.ts","index.ts","src/library/ts/hilbert-gallery-viewer.ts","hilbert-gallery-viewer.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-555cbd1c7e561ae3.js","src/library/ts/action/preload.ts","preload.ts","src/library/ts/action/base.ts","base.ts","src/library/ts/util/types.ts","types.ts","src/library/ts/util/validate.ts","validate.ts","src/library/ts/util/log.ts","log.ts","src/library/ts/action/reload.ts","reload.ts","src/library/ts/action/show.ts","show.ts","src/library/ts/util/content-creator.ts","content-creator.ts","src/library/ts/util/promise.ts","promise.ts","src/library/ts/util/preloader.ts","preloader.ts","src/library/ts/util/object-fit.ts","object-fit.ts","src/library/ts/action/clear.ts","clear.ts","src/library/ts/util/style.ts","style.ts","src/library/ts/animation/factory.ts","factory.ts","src/library/ts/animation/none.ts","none.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-a23e6f8ade228f1e.js","src/library/ts/animation/css-based.ts","css-based.ts","src/library/ts/animation/base.ts","src/library/ts/animation/pan-zoom.ts","pan-zoom.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-889efc5f54fc8347.js","src/library/ts/transition/factory.ts","src/library/ts/transition/none.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-4e596e3aba3b40da.js","src/library/ts/transition/css-based.ts","src/library/ts/transition/fade.ts","fade.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-4aa41a98c314e642.js","src/library/ts/transition/cross-fade.ts","cross-fade.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-3fb623f0d4909642.js","src/library/ts/action/mute.ts","mute.ts","src/library/ts/action/unmute.ts","unmute.ts","src/library/ts/action/set-volume.ts","set-volume.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path=\"./types.d.ts\" />\nimport HilbertGalleryViewer from './hilbert-gallery-viewer';\n\nexport default HilbertGalleryViewer;\n",null,"// eslint-disable-next-line max-classes-per-file\nimport cssText from 'bundle-text:../scss/viewer.scss';\n\nimport 'core-js/actual/promise';\n\nimport Action from './action/action';\nimport PreloadAction from './action/preload';\nimport { Log, LogLevel } from './util/log';\nimport { SlideData, State } from './util/types';\nimport ReloadAction from './action/reload';\nimport ShowAction from './action/show';\nimport ClearAction from './action/clear';\nimport { appendStyle } from './util/style';\nimport AnimationFactory from './animation/factory';\nimport TransitionFactory from './transition/factory';\nimport MuteAction from './action/mute';\nimport UnmuteAction from './action/unmute';\nimport SetVolumeAction from './action/set-volume';\nimport Preloader from './util/preloader';\n\ntype ActionRegistry = Map<string, Action<unknown, unknown>>;\n\ninterface IHilbertGalleryViewer {\n  execute(action: string, arg: unknown): Promise<unknown>;\n}\n\nclass HilbertGalleryViewerElement\n  extends HTMLElement\n  implements IHilbertGalleryViewer\n{\n  protected viewer: HilbertGalleryViewer;\n\n  constructor() {\n    super();\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    this.viewer = new HilbertGalleryViewer(this, false);\n  }\n\n  async execute(action: string, arg: unknown): Promise<unknown> {\n    return this.viewer.execute(action, arg);\n  }\n}\n\nclass HilbertGalleryViewer implements IHilbertGalleryViewer {\n  protected actionRegistry: ActionRegistry;\n\n  protected state: State;\n\n  constructor(parent: HTMLElement, wrap = true) {\n    const insertWrapper = (element: HTMLElement): HTMLDivElement => {\n      const wrapper = document.createElement('div');\n      return element.appendChild(wrapper);\n    };\n\n    const host = wrap ? insertWrapper(parent) : parent;\n    const shadowRoot = host.attachShadow({ mode: 'open' });\n\n    appendStyle(shadowRoot, cssText);\n\n    const preloadArea = document.createElement('div');\n    preloadArea.classList.add('preload-area');\n    shadowRoot.appendChild(preloadArea);\n\n    const container = document.createElement('div');\n    container.classList.add('container');\n    shadowRoot.appendChild(container);\n\n    const transitionFactory = new TransitionFactory(shadowRoot);\n    const animationFactory = new AnimationFactory(shadowRoot);\n\n    const activeSlides: SlideData[] = [];\n\n    this.state = {\n      viewer: this,\n      log: new Log(LogLevel.WARN),\n      preloader: new Preloader(preloadArea),\n      shadowRoot,\n      container,\n      transitionFactory,\n      animationFactory,\n      activeSlides,\n      muted: false,\n    };\n\n    this.actionRegistry = HilbertGalleryViewer.createActionRegistry(this.state);\n  }\n\n  protected static createActionRegistry(state: State): ActionRegistry {\n    const registry = new Map<string, Action<unknown, unknown>>();\n    registry.set('reload', new ReloadAction(state));\n    registry.set('preload', new PreloadAction(state));\n    registry.set('show', new ShowAction(state));\n    registry.set('clear', new ClearAction(state));\n    registry.set('mute', new MuteAction(state));\n    registry.set('unmute', new UnmuteAction(state));\n    registry.set('set-volume', new SetVolumeAction(state));\n    return registry;\n  }\n\n  async execute(action: string, arg: unknown): Promise<unknown> {\n    // executeImpl only exists for the purpose of renaming the parameters\n    return this.executeImpl(action, arg);\n  }\n\n  private async executeImpl(\n    actionName: string,\n    arg: unknown,\n  ): Promise<unknown> {\n    const action = this.actionRegistry.get(actionName);\n    if (action) {\n      // this may throw an exception if arg has invalid type\n      const executor = action.buildExecutor(arg);\n\n      // the executor encapsulates the preprocessed arg\n      // and allows type-safe execution\n\n      // we need to await the result to avoid several levels of Promises\n      // eslint-disable-next-line @typescript-eslint/return-await\n      return await executor();\n    }\n    throw new TypeError('HilbertGalleryViewer.execute(): unknown action');\n  }\n\n  public static defineCustomElement(): void {\n    customElements.define(\n      'hilbert-gallery-viewer',\n      HilbertGalleryViewerElement,\n    );\n  }\n}\n\nHilbertGalleryViewer.defineCustomElement();\n\nexport default HilbertGalleryViewer;\nexport { IHilbertGalleryViewer, HilbertGalleryViewerElement };\n",null,"module.exports = \"b3d0f2cea2d01945\";","import Base from './base';\nimport { State, PreloadItem } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\n\ntype PreloadActionOptions = PreloadItem[];\n\nconst preloadActionOptionsSchema: JSONSchemaType<PreloadActionOptions> = {\n  type: 'array',\n  items: {\n    type: 'object',\n    properties: {\n      mimetype: { type: 'string' },\n      url: { type: 'string' },\n    },\n    required: ['mimetype', 'url'],\n  },\n};\n\nconst validatePreloadActionOptions = ajvCompile(preloadActionOptionsSchema);\n\nclass PreloadAction extends Base<PreloadItem[], Promise<void>[]> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  async execute(items: PreloadActionOptions): Promise<Promise<void>[]> {\n    const { preloader } = this.state;\n    preloader.clear();\n    await Promise.resolve(); // this is just to make the method actually async\n    return preloader.preload(...items);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): PreloadActionOptions {\n    return validatePreloadActionOptions(options);\n  }\n}\n\nexport default PreloadAction;\nexport { PreloadItem };\n",null,"import Action from './action';\nimport { State } from '../util/types';\n\nabstract class Base<A, R> implements Action<A, R> {\n  protected readonly state: State;\n\n  protected constructor(state: State) {\n    this.state = state;\n  }\n\n  abstract execute(arg: A): Promise<R>;\n\n  abstract unpack(arg: unknown): A;\n\n  buildExecutor(arg: unknown): () => Promise<R> {\n    const unpackedArg: A = this.unpack(arg);\n    return () => this.execute(unpackedArg);\n  }\n}\n\nexport default Base;\n",null,"/* eslint-disable import/prefer-default-export */\nimport { Log } from './log';\nimport type TransitionFactory from '../transition/factory';\nimport type AnimationFactory from '../animation/factory';\nimport type HilbertGalleryViewer from '../hilbert-gallery-viewer';\nimport { Transition } from '../transition/transition';\nimport { Animation } from '../animation/animation';\nimport type Preloader from './preloader';\n\n/* class decorator for ensuring static elements on classes */\nfunction staticImplements<T>() {\n  return <U extends T>(constructor: U) => constructor;\n}\n\ntype RequireOnlyOne<T, Keys extends keyof T = keyof T> = Pick<\n  T,\n  Exclude<keyof T, Keys>\n> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> &\n      Partial<Record<Exclude<Keys, K>, undefined>>;\n  }[Keys];\n\ntype Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;\n\ntype SupportedContentElement = HTMLImageElement | HTMLVideoElement;\n\ntype DOMStructure = {\n  slideOuterWrapperElement: HTMLDivElement;\n  slideInnerWrapperElement: HTMLDivElement;\n  slideElement: HTMLDivElement;\n  contentElement: SupportedContentElement;\n};\n\ntype SlideData = DOMStructure & {\n  transition: Transition;\n  animation: Animation;\n  contentPlayTimeoutId: ReturnType<typeof setTimeout>;\n};\n\ntype PreloadItem = {\n  mimetype: string;\n  url: string;\n};\n\ntype State = {\n  viewer: HilbertGalleryViewer;\n  log: Log;\n  preloader: Preloader;\n  shadowRoot: ShadowRoot;\n  container: HTMLDivElement;\n  activeSlides: SlideData[];\n  transitionFactory: TransitionFactory;\n  animationFactory: AnimationFactory;\n  muted: boolean;\n};\n\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: Record<string, never> extends Pick<T, K> ? never : K;\n}[keyof T];\n\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: Record<string, never> extends Pick<T, K> ? K : never;\n}[keyof T];\n\ntype AtLeast<T, K extends keyof T> = Partial<T> & Pick<T, K>;\n\n/**\n * This function can be used to check if the type of a variable has been\n * narrowed down to the `never` type, i.e. that at the time of calling this\n * function, all other possible types have been covered beforehand.\n * @param n The variable to check for the `never` type.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction exhaustiveTypeCheck<T>(n: never): T {\n  throw new TypeError(\n    'This function should never be called. If it has been called, your type narrowing is incomplete.',\n  );\n}\n\nexport {\n  staticImplements,\n  RequireOnlyOne,\n  Optional,\n  SupportedContentElement,\n  DOMStructure,\n  SlideData,\n  PreloadItem,\n  State,\n  RequiredKeys,\n  OptionalKeys,\n  AtLeast,\n  exhaustiveTypeCheck,\n};\n",null,"import Ajv, { JSONSchemaType, ValidateFunction } from 'ajv';\n\nconst ajv = new Ajv();\n\nfunction validateThrowError<T>(\n  validate: ValidateFunction<T>,\n): (\n  data: Parameters<ValidateFunction<T>>[0],\n  dataCtx?: Parameters<ValidateFunction<T>>[1],\n) => T {\n  return (\n    data: Parameters<ValidateFunction<T>>[0],\n    dataCtx?: Parameters<ValidateFunction<T>>[1],\n  ): T => {\n    if (typeof dataCtx === 'undefined') {\n      if (validate(data)) {\n        return data;\n      }\n    } else if (validate(data)) {\n      return data;\n    }\n    throw new TypeError(JSON.stringify(validate.errors));\n  };\n}\n\nfunction ajvCompile<T>(\n  schema: JSONSchemaType<T>,\n  _meta?: boolean,\n): (\n  data: Parameters<ValidateFunction<T>>[0],\n  dataCtx?: Parameters<ValidateFunction<T>>[1],\n) => T {\n  return validateThrowError<T>(\n    typeof _meta === 'undefined'\n      ? ajv.compile(schema)\n      : ajv.compile(schema, _meta),\n  );\n}\n\nexport { JSONSchemaType, ajvCompile, validateThrowError };\n",null,"/* eslint-disable no-console */\n\nenum LogLevel {\n  OFF = 0,\n  ERROR = 200,\n  WARN = 300,\n  INFO = 400,\n  DEBUG = 500,\n  TRACE = 600,\n}\n\nexport default class Log {\n  level: LogLevel;\n\n  constructor(level: LogLevel = LogLevel.INFO) {\n    this.level = level;\n  }\n\n  error(...args: unknown[]) {\n    if (this.level >= LogLevel.ERROR) {\n      console.error(...args);\n    }\n  }\n\n  assert(assertion: boolean, ...args: unknown[]) {\n    if (this.level >= LogLevel.ERROR) {\n      console.assert(assertion, ...args);\n    }\n  }\n\n  warn(...args: unknown[]) {\n    if (this.level >= LogLevel.WARN) {\n      console.warn(...args);\n    }\n  }\n\n  info(...args: unknown[]) {\n    if (this.level >= LogLevel.INFO) {\n      console.info(...args);\n    }\n  }\n\n  debug(...args: unknown[]) {\n    if (this.level >= LogLevel.DEBUG) {\n      console.debug(...args);\n    }\n  }\n\n  trace(...args: unknown[]) {\n    if (this.level >= LogLevel.TRACE) {\n      console.trace(...args);\n    }\n  }\n}\n\nexport { Log, LogLevel };\n",null,"import Base from './base';\nimport { State } from '../util/types';\n\nclass ReloadAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    window.location.reload();\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default ReloadAction;\n",null,"import Base from './base';\nimport {\n  Optional,\n  OptionalKeys,\n  State,\n  DOMStructure,\n  SlideData,\n} from '../util/types';\nimport ContentCreator, {\n  SupportedContentElement,\n} from '../util/content-creator';\nimport TransitionFactory from '../transition/factory';\nimport AnimationFactory from '../animation/factory';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport fitObject, { FitType } from '../util/object-fit';\n\ninterface ShowActionOptions {\n  mimetype: string;\n  url: string;\n  fit?: FitType;\n  color?: string;\n  startDelay?: number;\n  volume?: number;\n  muted?: boolean;\n  transition?: { type: string; options?: Record<string, unknown> };\n  animation?: { type: string; options?: Record<string, unknown> };\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst showActionOptionsSchema = {\n  type: 'object',\n  properties: {\n    mimetype: { type: 'string' },\n    url: { type: 'string' },\n    fit: { type: 'string', enum: ['cover', 'contain'] },\n    color: { type: 'string' },\n    startDelay: { type: 'number', minimum: 0 },\n    volume: { type: 'number', minimum: 0, maximum: 1 },\n    muted: { type: 'boolean' },\n    transition: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n    animation: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n  },\n  required: ['mimetype', 'url'],\n} as unknown as JSONSchemaType<ShowActionOptions>;\n\nconst validateShowActionOptions = ajvCompile(showActionOptionsSchema);\n\nconst defaultOptionalShowArgs: Optional<\n  Required<Pick<ShowActionOptions, OptionalKeys<ShowActionOptions>>>,\n  'startDelay' // is optional, but will be derived from the transition if not present\n> = {\n  fit: 'cover',\n  color: 'black',\n  volume: 1,\n  muted: false,\n  transition: { type: 'none', options: {} },\n  animation: { type: 'none', options: {} },\n};\n\nclass ShowAction extends Base<ShowActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  appendCurrentContent(\n    contentElement: SupportedContentElement,\n    color = 'black',\n  ): DOMStructure {\n    contentElement.classList.add('content');\n\n    const slideElement = document.createElement('div');\n    slideElement.style.setProperty('--slide-background-color', color);\n    slideElement.classList.add('slide');\n    slideElement.appendChild(contentElement);\n\n    const slideInnerWrapperElement = document.createElement('div');\n    slideInnerWrapperElement.classList.add('slide-inner-wrapper');\n    slideInnerWrapperElement.appendChild(slideElement);\n\n    const slideOuterWrapperElement = document.createElement('div');\n    slideOuterWrapperElement.classList.add('slide-outer-wrapper');\n    slideOuterWrapperElement.appendChild(slideInnerWrapperElement);\n\n    const { container } = this.state;\n    container.appendChild(slideOuterWrapperElement);\n\n    return {\n      slideOuterWrapperElement,\n      slideInnerWrapperElement,\n      slideElement,\n      contentElement,\n    };\n  }\n\n  protected removePreviousSlides(s: SlideData) {\n    const { activeSlides } = this.state;\n    const index = activeSlides.indexOf(s);\n    if (index !== -1) {\n      const previousSlides = activeSlides.slice(0, index);\n      activeSlides.splice(0, index);\n      previousSlides.forEach((ps) => {\n        const { parentNode } = ps.slideOuterWrapperElement;\n        if (parentNode !== null) {\n          parentNode.removeChild(ps.slideOuterWrapperElement);\n        }\n        ps.transition.cancel();\n        ps.animation.cancel();\n      });\n    }\n  }\n\n  async execute(arg: ShowActionOptions): Promise<void> {\n    // first parse args and prepare transition and animation\n    const transitionCreator = this.prepareTransition(arg);\n    const animationCreator = this.prepareAnimation(arg);\n\n    // args are parsed and considered OK\n    const { mimetype, url, fit, color, startDelay, volume, muted } = {\n      ...defaultOptionalShowArgs,\n      ...arg,\n    };\n\n    const { preloader } = this.state;\n    const content = ContentCreator.create(mimetype, url, preloader);\n    const currentDomStructure = this.appendCurrentContent(\n      content,\n      color ?? 'black',\n    );\n    fitObject(currentDomStructure.slideElement, content, fit);\n    ContentCreator.setMuted(content, this.state.muted || muted);\n    ContentCreator.setVolume(content, volume, 'absolute');\n    const transition = transitionCreator(\n      currentDomStructure.slideOuterWrapperElement,\n    );\n    const animation = animationCreator(currentDomStructure.slideElement);\n\n    const { targetShowUpDelay } = transition;\n    const contentPlayDelay = startDelay ?? targetShowUpDelay;\n\n    const contentPlayTimeoutId = setTimeout(\n      () => ContentCreator.play(content),\n      contentPlayDelay * 1000,\n    );\n\n    const slideData = {\n      ...currentDomStructure,\n      transition,\n      animation,\n      contentPlayTimeoutId,\n    };\n    const { activeSlides } = this.state;\n    activeSlides.push(slideData);\n\n    try {\n      await transition.done();\n    } catch (e) {\n      const msg = 'Waiting for transition to end failed. Proceeding anyway';\n      if (e) {\n        this.state.log.warn(msg, e);\n      } else {\n        this.state.log.warn(msg);\n      }\n    }\n    this.removePreviousSlides(slideData);\n  }\n\n  protected prepareTransition({\n    transition,\n  }: ShowActionOptions): ReturnType<TransitionFactory['prepare']> {\n    const { type, options } = transition ?? { type: 'none', options: {} };\n    const { transitionFactory } = this.state;\n    return transitionFactory.prepare(type, options);\n  }\n\n  protected prepareAnimation({\n    animation,\n  }: ShowActionOptions): ReturnType<AnimationFactory['prepare']> {\n    const { type, options } = animation ?? { type: 'none', options: {} };\n    const { animationFactory } = this.state;\n    return animationFactory.prepare(type, options);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): ShowActionOptions {\n    return validateShowActionOptions(options);\n  }\n}\n\nexport default ShowAction;\nexport { ShowActionOptions };\n",null,"import { exhaustiveTypeCheck, SupportedContentElement } from './types';\nimport { waitForEvents } from './promise';\nimport Preloader from './preloader';\n\ntype Size = { width: number; height: number };\n\nclass ContentCreator {\n  public static create(\n    mimetype: string,\n    url: string,\n    preloader = new Preloader(),\n  ): SupportedContentElement {\n    return preloader.get(mimetype, url);\n  }\n\n  public static play<T extends SupportedContentElement>(content: T): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      content.play().finally(() => {});\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static setVolume<T extends SupportedContentElement>(\n    content: T,\n    volume: number,\n    mode: 'absolute' | 'relative',\n  ): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      switch (mode) {\n        case 'absolute':\n          // eslint-disable-next-line no-param-reassign\n          content.volume = Math.min(1, Math.max(volume, 0));\n          break;\n        case 'relative':\n          // eslint-disable-next-line no-param-reassign\n          content.volume = Math.min(1, Math.max(content.volume * volume, 0));\n          break;\n        default:\n          exhaustiveTypeCheck<T>(mode);\n      }\n\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static setMuted<T extends SupportedContentElement>(\n    content: T,\n    value: boolean,\n  ): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      // eslint-disable-next-line no-param-reassign\n      content.muted = value;\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static async getDimensions<T extends SupportedContentElement>(\n    content: T,\n  ): Promise<Size> {\n    if (content instanceof HTMLImageElement) {\n      return ContentCreator.getDimensionsImage(content);\n    }\n    if (content instanceof HTMLVideoElement) {\n      return ContentCreator.getDimensionsVideo(content);\n    }\n    return exhaustiveTypeCheck<Size>(content);\n  }\n\n  protected static async getDimensionsImage<T extends HTMLImageElement>(\n    image: T,\n  ): Promise<Size> {\n    if (!image.complete)\n      await waitForEvents(image, ['load'], ['abort', 'error']);\n    return { width: image.naturalWidth, height: image.naturalHeight };\n  }\n\n  protected static async getDimensionsVideo<T extends HTMLVideoElement>(\n    video: T,\n  ): Promise<Size> {\n    if (video.readyState < HTMLMediaElement.HAVE_METADATA) {\n      await waitForEvents(video, ['loadedmetadata'], ['abort', 'error']);\n    }\n    return { width: video.videoWidth, height: video.videoHeight };\n  }\n}\n\nexport default ContentCreator;\nexport { SupportedContentElement, Size };\n",null,"class PromiseExecutorCallbacks<T> {\n  private readonly _promise: Promise<T>;\n\n  private readonly _resolve: (result: T) => void;\n\n  private readonly _reject: () => void;\n\n  constructor() {\n    // dummy initialization required to satisfy TS2564 (definite assignment)\n    let tmpResolve: (result: T) => void = () => {};\n    let tmpReject: () => void = () => {};\n    this._promise = new Promise((resolve, reject) => {\n      tmpResolve = resolve;\n      tmpReject = reject;\n    });\n    this._resolve = tmpResolve;\n    this._reject = tmpReject;\n  }\n\n  promise(): Promise<T> {\n    return this._promise;\n  }\n\n  resolve(result: T) {\n    return this._resolve(result);\n  }\n\n  reject() {\n    return this._reject();\n  }\n}\n\nasync function waitForEvents<T extends EventTarget>(\n  element: T,\n  resolveEventNames: string[],\n  rejectEventNames: string[],\n): Promise<T> {\n  return new Promise<T>((resolve, reject) => {\n    const [resolveHandler, rejectHandler] = [\n      () => {\n        resolveEventNames.forEach((name) =>\n          element.removeEventListener(name, resolveHandler),\n        );\n        rejectEventNames.forEach((name) =>\n          element.removeEventListener(name, rejectHandler),\n        );\n        resolve(element);\n      },\n      (e: Event) => {\n        resolveEventNames.forEach((name) =>\n          element.removeEventListener(name, resolveHandler),\n        );\n        rejectEventNames.forEach((name) =>\n          element.removeEventListener(name, rejectHandler),\n        );\n        reject(e);\n      },\n    ];\n    resolveEventNames.forEach((e) =>\n      element.addEventListener(e, resolveHandler),\n    );\n    rejectEventNames.forEach((e) => element.addEventListener(e, rejectHandler));\n  });\n}\n\nexport { PromiseExecutorCallbacks, waitForEvents };\n",null,"import {\n  SupportedContentElement,\n  PreloadItem,\n  exhaustiveTypeCheck,\n} from './types';\nimport { waitForEvents } from './promise';\n\nclass Preloader {\n  protected container: HTMLElement;\n\n  protected readonly refs = new Map<string, SupportedContentElement>();\n\n  constructor(container: HTMLElement = document.createElement('div')) {\n    this.container = container;\n  }\n\n  public static key(mimetype: string, url: string) {\n    return `{${mimetype}}{${url}}`;\n  }\n\n  protected preloadImpl(\n    mimetype: string,\n    url: string,\n  ): { key: string; element: SupportedContentElement } {\n    const key = Preloader.key(mimetype, url);\n    const cpe = Preloader.createPreloadingElement.bind(Preloader);\n    const element = this.refs.get(key) ?? cpe(mimetype, url);\n    this.container.appendChild(element);\n    this.refs.set(key, element);\n    return { key, element };\n  }\n\n  public preload(...items: PreloadItem[]): Promise<void>[] {\n    return items\n      .map(({ mimetype, url }) => this.preloadImpl(mimetype, url))\n      .map(({ element }) => Preloader.readyForDisplay(element).then());\n  }\n\n  public get(mimetype: string, url: string): SupportedContentElement {\n    const { key, element } = this.preloadImpl(mimetype, url);\n    element.remove();\n    const clonedElement = element.cloneNode(true) as SupportedContentElement;\n    this.container.appendChild(clonedElement);\n    this.refs.set(key, clonedElement);\n    return element;\n  }\n\n  public static async readyForDisplay<T extends SupportedContentElement>(\n    content: T,\n  ): Promise<T> {\n    if (content instanceof HTMLImageElement) {\n      await Preloader.readyForDisplayImage(content);\n    } else if (content instanceof HTMLVideoElement) {\n      await Preloader.readyForDisplayVideo(content);\n    } else {\n      exhaustiveTypeCheck(content);\n    }\n    return content;\n  }\n\n  protected static async readyForDisplayImage<T extends HTMLImageElement>(\n    image: T,\n  ): Promise<T> {\n    if (!image.complete)\n      await waitForEvents(image, ['load'], ['abort', 'error']);\n    return image;\n  }\n\n  protected static async readyForDisplayVideo<T extends HTMLVideoElement>(\n    video: T,\n  ): Promise<T> {\n    if (video.readyState < HTMLMediaElement.HAVE_ENOUGH_DATA) {\n      await waitForEvents(video, ['canplaythrough'], ['abort', 'error']);\n    }\n    return video;\n  }\n\n  protected static createPreloadingElement(mimetype: string, url: string) {\n    const type = mimetype.split('/', 1)[0];\n    switch (type) {\n      case 'image':\n        return Preloader.createPreloadingImage(url);\n      case 'video':\n        return Preloader.createPreloadingVideo(url);\n      default:\n        throw new TypeError(`Unsupported MIME type: ${type} (${mimetype})`);\n    }\n  }\n\n  protected static createPreloadingImage(url: string): HTMLImageElement {\n    const { href } = new URL(url);\n    const image = new Image();\n    image.src = href;\n    return image;\n  }\n\n  protected static createPreloadingVideo(url: string): HTMLVideoElement {\n    const video = document.createElement('video');\n    video.preload = 'auto';\n    video.src = url;\n    video.autoplay = false;\n    return video;\n  }\n\n  protected unrefImpl(...keys: string[]) {\n    keys.forEach((key) => {\n      const element = this.refs.get(key);\n      element?.remove();\n      this.refs.delete(key);\n    });\n  }\n\n  unref(...refs: PreloadItem[]) {\n    const keys = refs.map(({ mimetype, url }) => Preloader.key(mimetype, url));\n    this.unrefImpl(...keys);\n  }\n\n  clear() {\n    this.unrefImpl(...this.refs.keys());\n  }\n}\n\nexport default Preloader;\n",null,"import { ResizeObserver as ResizeObserverPolyfill } from '@juggle/resize-observer';\n\nimport ContentCreator, {\n  SupportedContentElement,\n  Size,\n} from './content-creator';\n\n// eslint-disable-next-line compat/compat\nconst ResizeObserverOnWindow = window.ResizeObserver;\nconst ResizeObserver = ResizeObserverOnWindow || ResizeObserverPolyfill;\n\ntype FitType = 'cover' | 'contain';\n\nclass FitUpdater {\n  protected static resizeObserver = new ResizeObserver(\n    FitUpdater.resizeObserverCallback.bind(FitUpdater),\n  );\n\n  protected static elementSizes = new WeakMap<HTMLElement, Size>();\n\n  protected static fitUpdaterInstances = new WeakMap<\n    HTMLElement,\n    FitUpdater[]\n  >();\n\n  protected container: HTMLElement;\n\n  protected content: SupportedContentElement;\n\n  protected constructor(\n    container: HTMLElement,\n    content: SupportedContentElement,\n  ) {\n    this.container = container;\n    this.content = content;\n  }\n\n  update() {\n    const contentSize = FitUpdater.elementSizes.get(this.content);\n    if (typeof contentSize === 'undefined') return;\n    const containerSize = FitUpdater.elementSizes.get(this.container);\n    if (typeof containerSize === 'undefined') return;\n\n    const containerAspectRatio = containerSize.width / containerSize.height;\n    const contentAspectRatio = contentSize.width / contentSize.height;\n\n    if (containerAspectRatio > contentAspectRatio) {\n      this.container.style.setProperty('--fit-cover-max-width', '100%');\n      this.container.style.setProperty('--fit-cover-max-height', 'auto');\n      this.container.style.setProperty('--fit-contain-min-width', 'auto');\n      this.container.style.setProperty('--fit-contain-min-height', '100%');\n    } else {\n      this.container.style.setProperty('--fit-cover-max-width', '100%');\n      this.container.style.setProperty('--fit-cover-max-height', 'auto');\n      this.container.style.setProperty('--fit-contain-min-width', '100%');\n      this.container.style.setProperty('--fit-contain-min-height', 'auto');\n    }\n  }\n\n  public static register(\n    container: HTMLElement,\n    content: SupportedContentElement,\n  ): FitUpdater {\n    const updater = new FitUpdater(container, content);\n\n    FitUpdater.addInstance(container, updater);\n    FitUpdater.addInstance(content, updater);\n    FitUpdater.resizeObserver.observe(container);\n\n    ContentCreator.getDimensions(content)\n      .then((size) => {\n        FitUpdater.elementSizes.set(content, size);\n        updater.update();\n      })\n      .catch((reason) => {\n        // eslint-disable-next-line no-console\n        console.error(\n          'Could not retrieve size of content element.',\n          content,\n          reason,\n          'Content fitting will most likely not work for this element.',\n        );\n      });\n\n    return updater;\n  }\n\n  public static unregister(updater: FitUpdater): void {\n    const { container, content } = updater;\n    FitUpdater.removeInstance(container, updater);\n    FitUpdater.removeInstance(content, updater);\n  }\n\n  protected static addInstance(elem: HTMLElement, updater: FitUpdater): void {\n    const instances = FitUpdater.getInstances(elem);\n    instances.push(updater);\n    FitUpdater.fitUpdaterInstances.set(elem, instances);\n  }\n\n  protected static removeInstance(\n    elem: HTMLElement,\n    updater: FitUpdater,\n  ): void {\n    const instances = FitUpdater.getInstances(elem);\n    const idx = instances.indexOf(updater);\n    if (idx !== -1) {\n      FitUpdater.fitUpdaterInstances.set(elem, instances.splice(idx, 1));\n    }\n  }\n\n  protected static getInstances(elem: HTMLElement): FitUpdater[] {\n    const instances = FitUpdater.fitUpdaterInstances.get(elem);\n    if (typeof instances === 'undefined') return [];\n    return [...instances];\n  }\n\n  protected static resizeObserverCallback(roes: ResizeObserverEntry[]) {\n    roes\n      .filter(({ target }) => target instanceof HTMLElement)\n      .forEach(({ target, contentRect: { width, height } }) => {\n        const element = target as HTMLElement;\n        FitUpdater.elementSizes.set(element, { width, height });\n        FitUpdater.getInstances(element).forEach((i) => i.update());\n      });\n  }\n}\n\nfunction fitObject(\n  container: HTMLElement,\n  content: SupportedContentElement,\n  type: FitType,\n) {\n  content.classList.add(`fit-${type}`);\n  FitUpdater.register(container, content);\n}\n\nexport default fitObject;\nexport { FitType, FitUpdater };\n",null,"import Base from './base';\nimport { OptionalKeys, State } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport { ShowActionOptions } from './show';\n\ninterface ClearActionOptions {\n  color?: string;\n  transition?: { type: string; options?: Record<string, unknown> };\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst clearActionOptionsSchema = {\n  type: 'object',\n  properties: {\n    color: { type: 'string' },\n    transition: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n  },\n} as unknown as JSONSchemaType<ClearActionOptions>;\n\nconst validateClearActionOptions = ajvCompile(clearActionOptionsSchema);\n\nconst defaultOptionalClearArgs: Required<\n  Pick<ClearActionOptions, OptionalKeys<ClearActionOptions>>\n> = {\n  color: 'black',\n  transition: { type: 'none', options: {} },\n};\n\nclass ClearAction extends Base<ClearActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(arg: ClearActionOptions): Promise<void> {\n    const showActionOptions: ShowActionOptions = {\n      ...defaultOptionalClearArgs,\n      ...arg,\n      mimetype: 'image/gif',\n      url: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      animation: { type: 'none' },\n    };\n    const { viewer } = this.state;\n    await viewer.execute('show', showActionOptions);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): ClearActionOptions {\n    return validateClearActionOptions(options);\n  }\n}\n\nexport default ClearAction;\nexport { ClearActionOptions };\n",null,"/* eslint-disable import/prefer-default-export */\n\nfunction appendStyle(\n  root: DocumentFragment,\n  stylesheetText: string,\n  id?: string,\n) {\n  const style: HTMLStyleElement = document.createElement('style');\n  if (typeof id !== 'undefined') {\n    style.id = id;\n  }\n  style.textContent = stylesheetText;\n  const selector =\n    \"style[type='text/css']:last-of-type, style:not([type]):last-of-type\";\n  const lastStyleElem = root.querySelector(selector);\n  if (lastStyleElem === null) {\n    root.prepend(style);\n  } else {\n    lastStyleElem.after(style);\n  }\n}\n\nexport { appendStyle };\n\nexport function setCSSPropertyIfDefined<T>(\n  elem: HTMLElement,\n  property: string,\n  formatter: (v: Exclude<T, undefined>) => string,\n  value: T,\n) {\n  if (typeof value !== 'undefined')\n    elem.style.setProperty(property, formatter(value as Exclude<T, undefined>));\n}\n",null,"import { Animation, AnimationOptions, AnimationStatic } from './animation';\nimport { appendStyle } from '../util/style';\nimport { NoneAnimation } from './none';\nimport { PanZoomAnimation } from './pan-zoom';\n\nclass AnimationFactory {\n  protected root: DocumentFragment;\n\n  protected animationRegistry: Map<\n    string,\n    AnimationStatic<Animation, AnimationOptions>\n  > = new Map();\n\n  constructor(root: DocumentFragment) {\n    this.root = root;\n    this.registerKnownTransitions();\n  }\n\n  protected registerKnownTransitions() {\n    this.register('none', NoneAnimation);\n    this.register('pan-zoom', PanZoomAnimation);\n  }\n\n  public register(\n    id: string,\n    AnimationClass: AnimationStatic<Animation, AnimationOptions>,\n  ) {\n    if (this.animationRegistry.has(id)) {\n      throw new Error('Animation type already registered');\n    }\n    appendStyle(\n      this.root,\n      AnimationClass.getStyleSheetAsString(),\n      `animation-${id}`,\n    );\n    this.animationRegistry.set(id, AnimationClass);\n  }\n\n  public prepare(\n    type = 'none',\n    options: unknown = {},\n  ): (element: HTMLDivElement) => Animation {\n    const AnimationClass = this.animationRegistry.get(type);\n    if (!AnimationClass) {\n      throw new Error(`Unknown animation type: ${type}`);\n    }\n\n    // unpacks the options and throws an exception if they are invalid,\n    // but does create the actual transition yet\n    return AnimationClass.prepare(options);\n  }\n}\n\nexport default AnimationFactory;\n",null,"import cssText from 'bundle-text:../../scss/animation/none.scss';\n\nimport { AnimationOptions, AnimationStatic } from './animation';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport CssBasedAnimation, { CssBasedAnimationOptions } from './css-based';\nimport { JSONSchemaType, ajvCompile } from '../util/validate';\n\ntype NoneAnimationOptions = AnimationOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst noneAnimationOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<NoneAnimationOptions>;\n\nconst validateNoneAnimationOptions = ajvCompile(noneAnimationOptionsSchema);\n\n@staticImplements<AnimationStatic<NoneAnimation, NoneAnimationOptions>>()\nclass NoneAnimation extends CssBasedAnimation {\n  constructor(element: HTMLElement, options: NoneAnimationOptions) {\n    super(element, NoneAnimation.createCssBasedAnimationOptions(options));\n  }\n\n  static createCssBasedAnimationOptions(\n    options: NoneAnimationOptions,\n  ): CssBasedAnimationOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'animation-none';\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const { delay, duration } = options;\n      const s = setCSSPropertyIfDefined;\n      s(e, '--animation-none-delay', (v) => `${v}s`, delay);\n      s(e, '--animation-none-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--animation-none-delay',\n        '--animation-none-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['animation', 'animation-none'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: false,\n      removeOnCancel: false,\n    };\n  }\n\n  static unpack(options: unknown): NoneAnimationOptions {\n    return validateNoneAnimationOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => NoneAnimation {\n    const unpackedOptions = NoneAnimation.unpack(options);\n    return (element: HTMLElement) =>\n      new NoneAnimation(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { NoneAnimation };\n",null,"module.exports = \"d77ea6bfd0ed3391\";","import { OptionalKeys } from '../util/types';\nimport { BaseAnimation } from './base';\n\ninterface CssBasedAnimationOptions {\n  classList?: string[];\n  cssPropertySetter?: (e: HTMLElement) => void;\n  cssPropertyRemover?: (e: HTMLElement) => void;\n  endEventFilter?: (e: AnimationEvent) => boolean;\n  cancelEventFilter?: (e: AnimationEvent) => boolean;\n  removeAtEnd?: boolean;\n  removeOnCancel?: boolean;\n}\n\nconst cssBasedAnimationOptionsDefault: Required<\n  Pick<CssBasedAnimationOptions, OptionalKeys<CssBasedAnimationOptions>>\n> = {\n  classList: [],\n  cssPropertySetter: () => {},\n  cssPropertyRemover: () => {},\n  endEventFilter: () => true,\n  cancelEventFilter: () => true,\n  removeAtEnd: true,\n  removeOnCancel: true,\n};\n\nclass CssBasedAnimation extends BaseAnimation {\n  protected endHandler: (event: AnimationEvent) => void;\n\n  protected cancelHandler: (event: AnimationEvent) => void;\n\n  protected cssBasedAnimationOptions: Required<CssBasedAnimationOptions>;\n\n  constructor(content: HTMLElement, options: CssBasedAnimationOptions) {\n    super(content);\n\n    const { element } = this;\n\n    this.cssBasedAnimationOptions = {\n      ...cssBasedAnimationOptionsDefault,\n      ...options,\n    };\n\n    const { cssPropertySetter, endEventFilter, cancelEventFilter } =\n      this.cssBasedAnimationOptions;\n\n    this.addClasses();\n    cssPropertySetter(element);\n\n    this.endHandler = (ae) => {\n      if (endEventFilter(ae)) {\n        this.end();\n      }\n    };\n    this.cancelHandler = (ae) => {\n      if (cancelEventFilter(ae)) {\n        this.cancelled();\n      }\n    };\n\n    element.addEventListener('animationend', this.endHandler);\n    element.addEventListener('animationcancel', this.cancelHandler);\n  }\n\n  protected addClasses() {\n    const { classList } = this.cssBasedAnimationOptions;\n    const { element } = this;\n    classList.forEach((c) => element.classList.add(c));\n  }\n\n  protected removeClasses() {\n    const { classList } = this.cssBasedAnimationOptions;\n    const { element } = this;\n    classList.forEach((c) => element.classList.remove(c));\n  }\n\n  protected end(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      this.cleanup(this.cssBasedAnimationOptions.removeAtEnd);\n      this._isDone = true;\n      this.donePEC.resolve();\n    }\n  }\n\n  protected cancelled(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      this.cleanup(this.cssBasedAnimationOptions.removeOnCancel);\n      this._isCancelled = true;\n      this.donePEC.reject();\n    }\n  }\n\n  cancel(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      if (this.cssBasedAnimationOptions.removeOnCancel) {\n        this.removeClasses();\n      } else {\n        this.cancelled();\n      }\n    }\n  }\n\n  protected cleanup(removeClassesAndProperties: boolean) {\n    const { element, cssBasedAnimationOptions } = this;\n    const { cssPropertyRemover } = cssBasedAnimationOptions;\n    element.removeEventListener('animationend', this.endHandler);\n    element.removeEventListener('animationcancel', this.cancelHandler);\n    if (removeClassesAndProperties) {\n      this.removeClasses();\n      cssPropertyRemover(element);\n    } else {\n      element.style.animationPlayState = 'paused';\n    }\n  }\n}\n\nexport default CssBasedAnimation;\nexport { CssBasedAnimationOptions };\n",null,"import { Animation } from './animation';\nimport { PromiseExecutorCallbacks } from '../util/promise';\n\nexport default abstract class BaseAnimation implements Animation {\n  public readonly element: HTMLElement;\n\n  protected _isCancelled = false;\n\n  protected _isDone = false;\n\n  protected donePEC: PromiseExecutorCallbacks<void>;\n\n  protected constructor(element: HTMLElement) {\n    this.element = element;\n\n    this.donePEC = new PromiseExecutorCallbacks<void>();\n\n    // prevent uncaught exceptions in promise\n    this.donePEC.promise().catch(() => {});\n  }\n\n  abstract cancel(): void;\n\n  isCancelled(): boolean {\n    return this._isCancelled;\n  }\n\n  done(): Promise<void> {\n    return this.donePEC.promise();\n  }\n\n  isDone(): boolean {\n    return this._isDone;\n  }\n}\n\nexport { BaseAnimation };\n","import cssText from 'bundle-text:../../scss/animation/pan-zoom.scss';\n\nimport { AnimationOptions, AnimationStatic } from './animation';\nimport CssBasedAnimation, { CssBasedAnimationOptions } from './css-based';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\n\ntype View = {\n  x: number;\n  y: number;\n  scale: number;\n};\n\ninterface PanZoomAnimationOptions extends AnimationOptions {\n  from?: Partial<View>;\n  to?: Partial<View>;\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst partialViewSchema = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' },\n    scale: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<PanZoomAnimationOptions['from']>;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst panZoomAnimationOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n    from: partialViewSchema,\n    to: partialViewSchema,\n  },\n} as JSONSchemaType<PanZoomAnimationOptions>;\n\nconst validatePanZoomAnimationOptions = ajvCompile(\n  panZoomAnimationOptionsSchema,\n);\n\n@staticImplements<AnimationStatic<PanZoomAnimation, PanZoomAnimationOptions>>()\nexport default class PanZoomAnimation extends CssBasedAnimation {\n  constructor(content: HTMLElement, options: PanZoomAnimationOptions) {\n    super(content, PanZoomAnimation.createCssBasedAnimationOptions(options));\n  }\n\n  static createCssBasedAnimationOptions(\n    options: PanZoomAnimationOptions,\n  ): CssBasedAnimationOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'animation-pan-zoom';\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const { delay, duration, from, to } = options;\n      const s = setCSSPropertyIfDefined;\n      s(e, '--animation-pan-zoom-delay', (v) => `${v}s`, delay);\n      s(e, '--animation-pan-zoom-duration', (v) => `${v}s`, duration);\n      s(e, '--animation-pan-zoom-origin-x', (v) => `${v}`, from?.x);\n      s(e, '--animation-pan-zoom-origin-y', (v) => `${v}`, from?.y);\n      s(e, '--animation-pan-zoom-origin-scale', (v) => `${v}`, from?.scale);\n      s(e, '--animation-pan-zoom-target-x', (v) => `${v}`, to?.x);\n      s(e, '--animation-pan-zoom-target-y', (v) => `${v}`, to?.y);\n      s(e, '--animation-pan-zoom-target-scale', (v) => `${v}`, to?.scale);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--animation-pan-zoom-delay',\n        '--animation-pan-zoom-duration',\n        '--animation-pan-zoom-origin-x',\n        '--animation-pan-zoom-origin-y',\n        '--animation-pan-zoom-origin-scale',\n        '--animation-pan-zoom-target-x',\n        '--animation-pan-zoom-target-y',\n        '--animation-pan-zoom-target-scale',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['animation', 'animation-pan-zoom'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: false,\n      removeOnCancel: false,\n    };\n  }\n\n  static unpack(options: unknown): PanZoomAnimationOptions {\n    return validatePanZoomAnimationOptions(options);\n  }\n\n  static prepare(options: unknown): (content: HTMLElement) => PanZoomAnimation {\n    const unpackedOptions = PanZoomAnimation.unpack(options);\n    return (content: HTMLElement) =>\n      new PanZoomAnimation(content, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { PanZoomAnimation, PanZoomAnimationOptions };\n",null,"module.exports = \"ce784f744c959a87\";","import { Transition, TransitionOptions, TransitionStatic } from './transition';\nimport { NoneTransition } from './none';\nimport { FadeTransition } from './fade';\nimport { CrossFadeTransition } from './cross-fade';\nimport { appendStyle } from '../util/style';\n\nclass TransitionFactory {\n  protected root: DocumentFragment;\n\n  protected transitionRegistry: Map<\n    string,\n    TransitionStatic<Transition, TransitionOptions>\n  > = new Map();\n\n  constructor(root: DocumentFragment) {\n    this.root = root;\n    this.registerKnownTransitions();\n  }\n\n  protected registerKnownTransitions() {\n    this.register('none', NoneTransition);\n    this.register('fade', FadeTransition);\n    this.register('cross-fade', CrossFadeTransition);\n  }\n\n  public register(\n    id: string,\n    transitionClass: TransitionStatic<Transition, TransitionOptions>,\n  ) {\n    if (this.transitionRegistry.has(id)) {\n      throw new Error('Transition type already registered');\n    }\n    appendStyle(\n      this.root,\n      transitionClass.getStyleSheetAsString(),\n      `transition-${id}`,\n    );\n    this.transitionRegistry.set(id, transitionClass);\n  }\n\n  public prepare(\n    type = 'none',\n    options: Record<string, unknown> = {},\n  ): (element: HTMLDivElement) => Transition {\n    const TransitionClass = this.transitionRegistry.get(type);\n    if (!TransitionClass) {\n      throw new Error(`Unknown transition type: ${type}`);\n    }\n\n    // unpacks the options and throws an exception if they are invalid,\n    // but does create the actual transition yet\n    return TransitionClass.prepare(options);\n  }\n}\n\nexport default TransitionFactory;\n","import cssText from 'bundle-text:../../scss/transition/none.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ntype NoneTransitionOptions = TransitionOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst noneTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<NoneTransitionOptions>;\n\nconst validateNoneTransitionOptions = ajvCompile(noneTransitionOptionsSchema);\n\n@staticImplements<TransitionStatic<NoneTransition, NoneTransitionOptions>>()\nexport default class NoneTransition extends CssBasedTransition {\n  readonly targetShowUpDelay: number = 0;\n\n  constructor(element: HTMLElement, options: NoneTransitionOptions) {\n    super(element, NoneTransition.createCssBasedTransitionOptions(options));\n  }\n\n  static createCssBasedTransitionOptions(\n    options: NoneTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-none';\n\n    const { delay, duration } = options;\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-none-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-none-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-none-delay',\n        '--transition-none-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-none'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: delay ?? 0,\n    };\n  }\n\n  static unpack(options: unknown): NoneTransitionOptions {\n    return validateNoneTransitionOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => NoneTransition {\n    const unpackedOptions = NoneTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new NoneTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { NoneTransition };\n","module.exports = \"dcaefe2208784247\";","import CssBasedAnimation, {\n  CssBasedAnimationOptions,\n} from '../animation/css-based';\nimport { Transition } from './transition';\n\nabstract class CssBasedTransition\n  extends CssBasedAnimation\n  implements Transition\n{\n  readonly targetShowUpDelay: number;\n\n  protected constructor(\n    content: HTMLElement,\n    options: CssBasedTransitionOptions,\n  ) {\n    super(content, options);\n    this.targetShowUpDelay = options.targetShowUpDelay;\n  }\n}\n\ninterface CssBasedTransitionOptions extends CssBasedAnimationOptions {\n  targetShowUpDelay: number;\n}\n\nexport default CssBasedTransition;\nexport { CssBasedTransitionOptions };\n","import cssText from 'bundle-text:../../scss/transition/fade.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ninterface FadeTransitionOptions extends TransitionOptions {\n  color?: string;\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst fadeTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n    color: { type: 'string' },\n  },\n} as JSONSchemaType<FadeTransitionOptions>;\n\nconst validateFadeTransitionOptions = ajvCompile(fadeTransitionOptionsSchema);\n\n// overwrites the (invalid) value set as default in the SCSS file\nconst defaultDuration = 2;\n\n@staticImplements<TransitionStatic<FadeTransition, FadeTransitionOptions>>()\nexport default class FadeTransition extends CssBasedTransition {\n  constructor(element: HTMLElement, options: FadeTransitionOptions) {\n    super(element, FadeTransition.createCssBasedTransitionOptions(options));\n  }\n\n  static createCssBasedTransitionOptions(\n    options: FadeTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-fade';\n    const { delay, duration } = { duration: defaultDuration, ...options };\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-fade-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-fade-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-fade-delay',\n        '--transition-fade-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-fade'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: (delay ?? 0) + duration / 2,\n    };\n  }\n\n  static unpack(options: unknown): FadeTransitionOptions {\n    return validateFadeTransitionOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => FadeTransition {\n    const unpackedOptions = FadeTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new FadeTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { FadeTransition, FadeTransitionOptions };\n",null,"module.exports = \"1b50ec41858f46bf\";","import cssText from 'bundle-text:../../scss/transition/cross-fade.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ntype CrossFadeTransitionOptions = TransitionOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst crossFadeTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<CrossFadeTransitionOptions>;\n\nconst validateCrossFadeTransitionOptions = ajvCompile(\n  crossFadeTransitionOptionsSchema,\n);\n\n@staticImplements<\n  TransitionStatic<CrossFadeTransition, CrossFadeTransitionOptions>\n>()\nexport default class CrossFadeTransition extends CssBasedTransition {\n  constructor(element: HTMLElement, options: CrossFadeTransitionOptions) {\n    super(\n      element,\n      CrossFadeTransition.createCssBasedTransitionOptions(options),\n    );\n  }\n\n  static createCssBasedTransitionOptions(\n    options: CrossFadeTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-cross-fade';\n\n    const { delay, duration } = options;\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-cross-fade-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-cross-fade-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-cross-fade-delay',\n        '--transition-cross-fade-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-cross-fade'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: delay ?? 0,\n    };\n  }\n\n  static unpack(options: unknown): CrossFadeTransitionOptions {\n    return validateCrossFadeTransitionOptions(options);\n  }\n\n  static prepare(\n    options: unknown,\n  ): (element: HTMLElement) => CrossFadeTransition {\n    const unpackedOptions = CrossFadeTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new CrossFadeTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { CrossFadeTransition, CrossFadeTransitionOptions };\n",null,"module.exports = \"c635bfe4d71082ce\";","import Base from './base';\nimport { State } from '../util/types';\nimport ContentCreator from '../util/content-creator';\n\nclass MuteAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setMuted(contentElement, true),\n    );\n    this.state.muted = true;\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default MuteAction;\n",null,"import Base from './base';\nimport { State } from '../util/types';\nimport ContentCreator from '../util/content-creator';\n\nclass UnmuteAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setMuted(contentElement, false),\n    );\n    this.state.muted = false;\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default UnmuteAction;\n",null,"import Base from './base';\nimport { OptionalKeys, State } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport ContentCreator from '../util/content-creator';\n\ninterface SetVolumeActionOptions {\n  volume: number;\n  mode?: 'absolute' | 'relative';\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst setVolumeActionOptionsSchema = {\n  oneOf: [\n    {\n      type: 'object',\n      properties: {\n        volume: { type: 'number', minimum: 0, maximum: 1 },\n        mode: { type: 'string', const: 'absolute' },\n      },\n      required: ['volume'],\n    },\n    {\n      type: 'object',\n      properties: {\n        volume: { type: 'number', minimum: 0 },\n        mode: { type: 'string', const: 'relative' },\n      },\n      required: ['volume', 'mode'],\n    },\n  ],\n} as unknown as JSONSchemaType<SetVolumeActionOptions>;\n\nconst validateSetVolumeActionOptions = ajvCompile(setVolumeActionOptionsSchema);\n\nconst defaultOptionalSetVolumeArgs: Required<\n  Pick<SetVolumeActionOptions, OptionalKeys<SetVolumeActionOptions>>\n> = {\n  mode: 'absolute',\n};\n\nclass SetVolumeAction extends Base<SetVolumeActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(arg: SetVolumeActionOptions): Promise<void> {\n    const { volume, mode } = {\n      ...defaultOptionalSetVolumeArgs,\n      ...arg,\n    };\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setVolume(contentElement, volume, mode),\n    );\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): SetVolumeActionOptions {\n    return validateSetVolumeActionOptions(options);\n  }\n}\n\nexport default SetVolumeAction;\nexport { SetVolumeActionOptions };\n",null],"names":[],"version":3,"file":"index.mjs.map"}