{"mappings":"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,CAAC,CAAC;gBACnE,IAAI,0BAA0B,EAAE;oBAC9B,IAAI,CAAC,aAAa,EAAE,CAAC;oBACrB,kBAAkB,CAAC,OAAO,CAAC,CAAC;iBAC7B,MACC,OAAO,CAAC,KAAK,CAAC,kBAAkB,GAAG,QAAQ,CAAC;aAE/C;;;;CACF,CAxF+B,CAAA,GAAA,wCAAa,CAAA,CAwF5C;IAED,wCAAiC,GAAlB,uCAAiB;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,qC,A;AHzGhC,wFAAwF;AACxF,IAAM,gDAA0B,GAAG;IACjC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACzC;CACsC,AAAC;AAE1C,IAAM,kDAA4B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAAC,gDAA0B,CAAC,AAAC;AAG5E,IAAM,yCAAa,GAAA,qCAAA,iBAAnB;;;;aAAM,cAAc,CACN,OAAoB,EAAE,OAA6B;;iCACvD,OAAO,EAAE,qCAAa,CAAC,8BAA8B,CAAC,OAAO,CAAC;;;;YAG/D,GAA8B,EAA9B,gCAA8B;mBAArC,SAAO,8BAA8B,CACnC,OAA6B,EAD/B;gBAGE,IAAM,oBAAoB,GAAG;wBAAG,aAAa,SAAb,aAAa;2BAC3C,aAAa,KAAK,gBAAgB;iBAAA,AAAC;gBAErC,IAAM,iBAAiB,GAAG,SAAC,CAAc,EAAzC;oBACE,IAAQ,KAAK,GAAe,OAAO,CAA3B,KAAK,EAAE,QAAQ,GAAK,OAAO,CAApB,QAAQ,AAAa;oBACpC,IAAM,CAAC,GAAG,CAAA,GAAA,yCAAuB,CAAA,AAAC;oBAClC,CAAC,CAAC,CAAC,EAAE,wBAAwB,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,KAAK,CAAC,CAAC;oBACtD,CAAC,CAAC,CAAC,EAAE,2BAA2B,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,QAAQ,CAAC,CAAC;iBAC7D,AAAC;gBAEF,IAAM,kBAAkB,GAAG,SAAC,CAAc,EAA1C;oBACE,IAAM,aAAa,GAAG;wBACpB,wBAAwB;wBACxB,2BAA2B;qBAC5B,AAAC;oBACF,aAAa,CAAC,OAAO,CAAC,SAAC,CAAC;+BAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;qBAAA,CAAC,CAAC;iBACzD,AAAC;gBAEF,OAAO;oBACL,SAAS,EAAE;wBAAC,WAAW;wBAAE,gBAAgB;qBAAC;oBAC1C,cAAc,EAAE,oBAAoB;oBACpC,iBAAiB,EAAE,oBAAoB;oBACvC,iBAAiB,EAAjB,iBAAiB;oBACjB,kBAAkB,EAAlB,kBAAkB;oBAClB,WAAW,EAAE,KAAK;oBAClB,cAAc,EAAE,KAAK;iBACtB,CAAC;aACH;;;YAEM,GAAM,EAAN,QAAM;mBAAb,SAAO,MAAM,CAAC,OAAgB,EAA9B;gBACE,OAAO,kDAA4B,CAAC,OAAO,CAAC,CAAC;aAC9C;;;YAEM,GAAO,EAAP,SAAO;mBAAd,SAAO,OAAO,CAAC,OAAgB,EAA/B;gBACE,IAAM,eAAe,GAAG,qCAAa,CAAC,MAAM,CAAC,OAAO,CAAC,AAAC;gBACtD,OAAO,SAAC,OAAoB;2BAC1B,IAAI,qCAAa,CAAC,OAAO,EAAE,eAAe,CAAC;iBAAA,CAAC;aAC/C;;;YAEM,GAAqB,EAArB,uBAAqB;mBAA5B,SAAO,qBAAqB,GAA5B;gBACE,OAAO,GAAA,gEAAO,CAAC;aAChB;;;;CACF,CAlD2B,CAAA,GAAA,wCAAiB,CAAA,CAkD5C,AAAA;AAlDK,yCAAa,GAAb,qCAAA,GAAA,gCAAA,CAAA;IADL,CAAA,GAAA,yCAAgB,CAAA,EAAwD;CACnE,EAAA,yCAAa,CAkDlB,CAlDK;;;;;;A;;;;;AOtBN,yBAAc,GAAG,kBAAkB,CAAC;;;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,wC,A;ADmBpC,wFAAwF;AACxF,IAAM,uCAAiB,GAAG;IACxB,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,CAAC,EAAE;YAAE,IAAI,EAAE,QAAQ;SAAE;QACrB,CAAC,EAAE;YAAE,IAAI,EAAE,QAAQ;SAAE;QACrB,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACtC;CACiD,AAAC;AAErD,wFAAwF;AACxF,IAAM,mDAA6B,GAAG;IACpC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACxC,IAAI,EAAE,uCAAiB;QACvB,EAAE,EAAE,uCAAiB;KACtB;CACyC,AAAC;AAE7C,IAAM,qDAA+B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAChD,mDAA6B,CAC9B,AAAC;AAGF,IAAqB,yCAAgB,GAAA,wCAAA,iBAArC;;;;aAAqB,iBAAiB,CACxB,OAAoB,EAAE,OAAgC;;iCAC1D,OAAO,EAAE,wCAAgB,CAAC,8BAA8B,CAAC,OAAO,CAAC;;;;YAGlE,GAA8B,EAA9B,gCA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BAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,AAAC;gBACxD,IAAI,CAAC,cAAc,EACjB,MAAM,IAAI,KAAK,CAAC,AAAA,0BAAA,CAA+B,MAAA,CAAJ,IAAI,CAAE,CAAC,CAAC;gBAGrD,mEAAmE;gBACnE,4CAA4C;gBAC5C,OAAO,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;aACxC;;;;CACF,EAAA;IAED,wCAAgC,GAAjB,sCAAgB;;;AApD/B;;;;;;A;;;;;;;AYDA,yBAAc,GAAG,kBAAkB,CAAC;;;APApC;;;;;;AAKA,IAAA,AAAe,wCACb,iBAkBF,AAnBA;;;;aAAe,kBACb,CAME,OAAoB,EACpB,OAAkC;;;kCAE5B,OAAO,EAAE,OAAO,EAAE;QANjB,4JAAA,mBAAiB,EAAjB,KAAA,CAA0B,CAAA,CAAA;QAOjC,MAAK,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;;;;CAEtD,CAZS,CAAA,GAAA,wCAAiB,CAAA,CAY1B;IAMD,wCAAkC,GAAnB,wCAAkB;;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,sC,A;AHZjC,wFAAwF;AACxF,IAAM,iDAA2B,GAAG;IAClC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;KACzC;CACuC,AAAC;AAE3C,IAAM,mDAA6B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAAC,iDAA2B,CAAC,AAAC;AAG9E,IAAqB,wCAAc,GAAA,sCAAA,iBAAnC;;;;aAAqB,eAAe,CAGtB,OAAoB,EAAE,OAA8B;;;kCACxD,OAAO,EAAE,sCAAc,CAAC,+BAA+B,CAAC,OAAO,CAAC,EAAE;QAHjE,4JAAA,mBAAiB,EAAW,CAAC,CAAC,CAAA;;;;;YAMhC,GAA+B,EAA/B,iCAA+B;mBAAtC,SAAO,+BAA+B,CACpC,OAA8B,EADhC;gBAGE,IAAM,oBAAoB,GAAG;wBAAG,aAAa,SAAb,aAAa;2BAC3C,aAAa,KAAK,iBAAiB;iBAAA,AAAC;gBAEtC,IAAQ,KAAK,GAAe,OAAO,CAA3B,KAAK,EAAE,QAAQ,GAAK,OAAO,CAApB,QAAQ,AAAa;gBAEpC,IAAM,iBAAiB,GAAG,SAAC,CAAc,EAAzC;oBACE,IAAM,CAAC,GAAG,CAAA,GAAA,yCAAuB,CAAA,AAAC;oBAClC,CAAC,CAAC,CAAC,EAAE,yBAAyB,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,KAAK,CAAC,CAAC;oBACvD,CAAC,CAAC,CAAC,EAAE,4BAA4B,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,QAAQ,CAAC,CAAC;iBAC9D,AAAC;gBAEF,IAAM,kBAAkB,GAAG,SAAC,CAAc,EAA1C;oBACE,IAAM,aAAa,GAAG;wBACpB,yBAAyB;wBACzB,4BAA4B;qBAC7B,AAAC;oBACF,aAAa,CAAC,OAAO,CAAC,SAAC,CAAC;+BAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;qBAAA,CAAC,CAAC;iBACzD,AAAC;gBAEF,OAAO;oBACL,SAAS,EAAE;wBAAC,YAAY;wBAAE,iBAAiB;qBAAC;oBAC5C,cAAc,EAAE,oBAAoB;oBACpC,iBAAiB,EAAE,oBAAoB;oBACvC,iBAAiB,EAAjB,iBAAiB;oBACjB,kBAAkB,EAAlB,kBAAkB;oBAClB,WAAW,EAAE,IAAI;oBACjB,cAAc,EAAE,IAAI;oBACpB,iBAAiB,EAAE,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,CAAC;iBAC9B,CAAC;aACH;;;YAEM,GAAM,EAAN,QAAM;mBAAb,SAAO,MAAM,CAAC,OAAgB,EAA9B;gBACE,OAAO,mDAA6B,CAAC,OAAO,CAAC,CAAC;aAC/C;;;YAEM,GAAO,EAAP,SAAO;mBAAd,SAAO,OAAO,CAAC,OAAgB,EAA/B;gBACE,IAAM,eAAe,GAAG,sCAAc,CAAC,MAAM,CAAC,OAAO,CAAC,AAAC;gBACvD,OAAO,SAAC,OAAoB;2BAC1B,IAAI,sCAAc,CAAC,OAAO,EAAE,eAAe,CAAC;iBAAA,CAAC;aAChD;;;YAEM,GAAqB,EAArB,uBAAqB;mBAA5B,SAAO,qBAAqB,GAA5B;gBACE,OAAO,GAAA,gEAAO,CAAC;aAChB;;;;CACF,CAtD2C,CAAA,GAAA,wCAAkB,CAAA,CAsD7D,AAAA;AAtDoB,wCAAc,GAAd,sCAAA,GAAA,gCAAA,CAAA;IADpB,CAAA,GAAA,yCAAgB,CAAA,EAA2D;CACvD,EAAA,wCAAc,CAsDlC,CAtDoB;IAAA,wCAAA,GAAA,wCAAc;;;;;;A;;;;;;AcxBnC,yBAAc,GAAG,kBAAkB,CAAC;;;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,sC,A;ADcpC,wFAAwF;AACxF,IAAM,iDAA2B,GAAG;IAClC,IAAI,EAAE,QAAQ;IACd,UAAU,EAAE;QACV,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACrC,QAAQ,EAAE;YAAE,IAAI,EAAE,QAAQ;YAAE,OAAO,EAAE,CAAC;SAAE;QACxC,KAAK,EAAE;YAAE,IAAI,EAAE,QAAQ;SAAE;KAC1B;CACuC,AAAC;AAE3C,IAAM,mDAA6B,GAAG,CAAA,GAAA,wCAAU,CAAA,CAAC,iDAA2B,CAAC,AAAC;AAE9E,iEAAiE;AACjE,IAAM,qCAAe,GAAG,CAAC,AAAC;AAG1B,IAAqB,yCAAc,GAAA,sCAAA,iBAAnC;;;;aAAqB,eAAe,CACtB,OAAoB,EAAE,OAA8B;;iCACxD,OAAO,EAAE,sCAAc,CAAC,+BAA+B,CAAC,OAAO,CAAC;;;;YAGjE,GAA+B,EAA/B,iCAA+B;mBAAtC,SAAO,+BAA+B,CACpC,OAA8B,EADhC;gBAGE,IAAM,oBAAoB,GAAG;wBAAG,aAAa,SAAb,aAAa;2BAC3C,aAAa,KAAK,iBAAiB;iBAAA,AAAC;gBACtC,IAA4B,GAAyC,GAAzC;oBAAE,QAAQ,EAAE,qCAAe;mBAAK,OAAO,CAAE,EAA7D,KAAK,GAAe,GAAyC,CAA7D,KAAK,EAAE,QAAQ,GAAK,GAAyC,CAAtD,QAAQ,AAA+C;gBAEtE,IAAM,iBAAiB,GAAG,SAAC,CAAc,EAAzC;oBACE,IAAM,CAAC,GAAG,CAAA,GAAA,yCAAuB,CAAA,AAAC;oBAClC,CAAC,CAAC,CAAC,EAAE,yBAAyB,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,KAAK,CAAC,CAAC;oBACvD,CAAC,CAAC,CAAC,EAAE,4BAA4B,EAAE,SAAC,CAAC;+BAAK,AAAA,EAAA,CAAI,MAAA,CAAD,CAAC,EAAA,GAAA,CAAG;qBAAA,EAAE,QAAQ,CAAC,CAAC;iBAC9D,AAAC;gBAEF,IAAM,kBAAkB,GAAG,SAAC,CAAc,EAA1C;oBACE,IAAM,aAAa,GAAG;wBACpB,yBAAyB;wBACzB,4BAA4B;qBAC7B,AAAC;oBACF,aAAa,CAAC,OAAO,CAAC,SAAC,CAAC;+BAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;qBAAA,CAAC,CAAC;iBACzD,AAAC;gBAEF,OAAO;oBACL,SAAS,EAAE;wBAAC,YAAY;wBAAE,iBAAiB;qBAAC;oBAC5C,cAAc,EAAE,oBAAoB;oBACpC,iBAAiB,EAAE,oBAAoB;oBACvC,iBAAiB,EAAjB,iBAAiB;oBACjB,kBAAkB,EAAlB,kBAAkB;oBAClB,WAAW,EAAE,IAAI;oBACjB,cAAc,EAAE,IAAI;oBACpB,iBAAiB,EAAE,AAAC,CAAA,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,CAAC,CAAA,GAAI,QAAQ,GAAG,CAAC;iBAC/C,CAAC;aACH;;;YAEM,GAAM,EAAN,QAAM;mBAAb,SAAO,MAAM,CAAC,OAAgB,EAA9B;gBACE,OAAO,mDAA6B,CAAC,OAAO,CAAC,CAAC;aAC/C;;;YAEM,GAAO,EAAP,SAAO;mBAAd,SAAO,OAAO,CAAC,OAAgB,EAA/B;gBACE,IAAM,eAAe,GAAG,sCAAc,CAAC,MAAM,CAAC,OAAO,CAAC,AAAC;gBACvD,OAAO,SAAC,OAAoB;2BAC1B,IAAI,sCAAc,CAAC,OAAO,EAAE,eAAe,CAAC;iBAAA,CAAC;aAChD;;;YAEM,GAAqB,EAArB,uBAAqB;mBAA5B,SAAO,qBAAqB,GAA5B;gBACE,OAAO,GAAA,gEAAO,CAAC;aAChB;;;;CACF,CAnD2C,CAAA,GAAA,wCAAkB,CAAA,CAmD7D,AAAA;AAnDoB,yCAAc,GAAd,sCAAA,GAAA,gCAAA,CAAA;IADpB,CAAA,GAAA,yCAAgB,CAAA,EAA2D;CACvD,EAAA,yCAAc,CAmDlC,CAnDoB;IAAA,wCAAA,GAAA,yCAAc;;;;;;A;;;;;AI9BnC,yBAAc,GAAG,kBAAkB,CAAC;;;;;;;A,I,gC,G,a,U,U,I,S,U,E,M,E,G,E,I,E;I,I,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,C,G,I,E,C,A;I,I,O,O,K,Q,I,O,O,C,Q,K,U,E,C,G,O,C,Q,C,U,E,M,E,G,E,I,C,C;S,I,I,C,G,U,C,M,G,C,E,C,I,C,E,C,E,C,I,C,G,U,C,C,C,E,C,G,A,C,C,G,C,G,C,C,C,C,G,C,G,C,G,C,C,M,E,G,E,C,C,G,C,C,M,E,G,C,C,I,C,C;I,O,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,C,E,C,C;C,A;A,I,2C,A;ADYpC,wFAAwF;AACxF,IAAM,sDAAgC,GAAG;IACvC,IAAI,EAAE,Q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","sources":["src/library/ts/index.ts","index.ts","src/library/ts/hilbert-gallery-viewer.ts","hilbert-gallery-viewer.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-887b895e679ff0ec.js","src/library/ts/action/preload.ts","preload.ts","src/library/ts/action/base.ts","base.ts","src/library/ts/util/types.ts","types.ts","src/library/ts/util/validate.ts","validate.ts","src/library/ts/util/log.ts","log.ts","src/library/ts/action/reload.ts","reload.ts","src/library/ts/action/show.ts","show.ts","src/library/ts/util/content-creator.ts","content-creator.ts","src/library/ts/util/promise.ts","promise.ts","src/library/ts/util/preloader.ts","preloader.ts","src/library/ts/util/object-fit.ts","object-fit.ts","src/library/ts/action/clear.ts","clear.ts","src/library/ts/util/style.ts","style.ts","src/library/ts/animation/factory.ts","factory.ts","src/library/ts/animation/none.ts","none.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-4b3d5dffcdd37193.js","src/library/ts/animation/css-based.ts","css-based.ts","src/library/ts/animation/base.ts","src/library/ts/animation/pan-zoom.ts","pan-zoom.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-103f38320343695d.js","src/library/ts/transition/factory.ts","src/library/ts/transition/none.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-facd0f6c1c2d4838.js","src/library/ts/transition/css-based.ts","src/library/ts/transition/fade.ts","fade.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-c4e36e74f3ad882f.js","src/library/ts/transition/cross-fade.ts","cross-fade.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-912ec126bee64fce.js","src/library/ts/action/mute.ts","mute.ts","src/library/ts/action/unmute.ts","unmute.ts","src/library/ts/action/set-volume.ts","set-volume.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path=\"./types.d.ts\" />\nimport HilbertGalleryViewer from './hilbert-gallery-viewer';\n\nexport default HilbertGalleryViewer;\n",null,"// eslint-disable-next-line max-classes-per-file\nimport cssText from 'bundle-text:../scss/viewer.scss';\n\nimport 'core-js/actual/promise';\n\nimport Action from './action/action';\nimport PreloadAction from './action/preload';\nimport { Log, LogLevel } from './util/log';\nimport { SlideData, State } from './util/types';\nimport ReloadAction from './action/reload';\nimport ShowAction from './action/show';\nimport ClearAction from './action/clear';\nimport { appendStyle } from './util/style';\nimport AnimationFactory from './animation/factory';\nimport TransitionFactory from './transition/factory';\nimport MuteAction from './action/mute';\nimport UnmuteAction from './action/unmute';\nimport SetVolumeAction from './action/set-volume';\nimport Preloader from './util/preloader';\n\ntype ActionRegistry = Map<string, Action<unknown, unknown>>;\n\ninterface IHilbertGalleryViewer {\n  execute(action: string, arg: unknown): Promise<unknown>;\n}\n\nclass HilbertGalleryViewerElement\n  extends HTMLElement\n  implements IHilbertGalleryViewer\n{\n  protected viewer: HilbertGalleryViewer;\n\n  constructor() {\n    super();\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    this.viewer = new HilbertGalleryViewer(this, false);\n  }\n\n  async execute(action: string, arg: unknown): Promise<unknown> {\n    return this.viewer.execute(action, arg);\n  }\n}\n\nclass HilbertGalleryViewer implements IHilbertGalleryViewer {\n  protected actionRegistry: ActionRegistry;\n\n  protected state: State;\n\n  constructor(parent: HTMLElement, wrap = true) {\n    const insertWrapper = (element: HTMLElement): HTMLDivElement => {\n      const wrapper = document.createElement('div');\n      return element.appendChild(wrapper);\n    };\n\n    const host = wrap ? insertWrapper(parent) : parent;\n    const shadowRoot = host.attachShadow({ mode: 'open' });\n\n    appendStyle(shadowRoot, cssText);\n\n    const preloadArea = document.createElement('div');\n    preloadArea.classList.add('preload-area');\n    shadowRoot.appendChild(preloadArea);\n\n    const container = document.createElement('div');\n    container.classList.add('container');\n    shadowRoot.appendChild(container);\n\n    const transitionFactory = new TransitionFactory(shadowRoot);\n    const animationFactory = new AnimationFactory(shadowRoot);\n\n    const activeSlides: SlideData[] = [];\n\n    this.state = {\n      viewer: this,\n      log: new Log(LogLevel.WARN),\n      preloader: new Preloader(preloadArea),\n      shadowRoot,\n      container,\n      transitionFactory,\n      animationFactory,\n      activeSlides,\n      muted: false,\n    };\n\n    this.actionRegistry = HilbertGalleryViewer.createActionRegistry(this.state);\n  }\n\n  protected static createActionRegistry(state: State): ActionRegistry {\n    const registry = new Map<string, Action<unknown, unknown>>();\n    registry.set('reload', new ReloadAction(state));\n    registry.set('preload', new PreloadAction(state));\n    registry.set('show', new ShowAction(state));\n    registry.set('clear', new ClearAction(state));\n    registry.set('mute', new MuteAction(state));\n    registry.set('unmute', new UnmuteAction(state));\n    registry.set('set-volume', new SetVolumeAction(state));\n    return registry;\n  }\n\n  async execute(action: string, arg: unknown): Promise<unknown> {\n    // executeImpl only exists for the purpose of renaming the parameters\n    return this.executeImpl(action, arg);\n  }\n\n  private async executeImpl(\n    actionName: string,\n    arg: unknown,\n  ): Promise<unknown> {\n    const action = this.actionRegistry.get(actionName);\n    if (action) {\n      // this may throw an exception if arg has invalid type\n      const executor = action.buildExecutor(arg);\n\n      // the executor encapsulates the preprocessed arg\n      // and allows type-safe execution\n\n      // we need to await the result to avoid several levels of Promises\n      // eslint-disable-next-line @typescript-eslint/return-await\n      return await executor();\n    }\n    throw new TypeError('HilbertGalleryViewer.execute(): unknown action');\n  }\n\n  public static defineCustomElement(): void {\n    customElements.define(\n      'hilbert-gallery-viewer',\n      HilbertGalleryViewerElement,\n    );\n  }\n}\n\nHilbertGalleryViewer.defineCustomElement();\n\nexport default HilbertGalleryViewer;\nexport { IHilbertGalleryViewer, HilbertGalleryViewerElement };\n",null,"module.exports = \"21812cc995552e01\";","import Base from './base';\nimport { State, PreloadItem } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\n\ntype PreloadActionOptions = PreloadItem[];\n\nconst preloadActionOptionsSchema: JSONSchemaType<PreloadActionOptions> = {\n  type: 'array',\n  items: {\n    type: 'object',\n    properties: {\n      mimetype: { type: 'string' },\n      url: { type: 'string' },\n    },\n    required: ['mimetype', 'url'],\n  },\n};\n\nconst validatePreloadActionOptions = ajvCompile(preloadActionOptionsSchema);\n\nclass PreloadAction extends Base<PreloadItem[], Promise<void>[]> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  async execute(items: PreloadActionOptions): Promise<Promise<void>[]> {\n    const { preloader } = this.state;\n    preloader.clear();\n    await Promise.resolve(); // this is just to make the method actually async\n    return preloader.preload(...items);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): PreloadActionOptions {\n    return validatePreloadActionOptions(options);\n  }\n}\n\nexport default PreloadAction;\nexport { PreloadItem };\n",null,"import Action from './action';\nimport { State } from '../util/types';\n\nabstract class Base<A, R> implements Action<A, R> {\n  protected readonly state: State;\n\n  protected constructor(state: State) {\n    this.state = state;\n  }\n\n  abstract execute(arg: A): Promise<R>;\n\n  abstract unpack(arg: unknown): A;\n\n  buildExecutor(arg: unknown): () => Promise<R> {\n    const unpackedArg: A = this.unpack(arg);\n    return () => this.execute(unpackedArg);\n  }\n}\n\nexport default Base;\n",null,"/* eslint-disable import/prefer-default-export */\nimport { Log } from './log';\nimport type TransitionFactory from '../transition/factory';\nimport type AnimationFactory from '../animation/factory';\nimport type HilbertGalleryViewer from '../hilbert-gallery-viewer';\nimport { Transition } from '../transition/transition';\nimport { Animation } from '../animation/animation';\nimport type Preloader from './preloader';\n\n/* class decorator for ensuring static elements on classes */\nfunction staticImplements<T>() {\n  return <U extends T>(constructor: U) => constructor;\n}\n\ntype RequireOnlyOne<T, Keys extends keyof T = keyof T> = Pick<\n  T,\n  Exclude<keyof T, Keys>\n> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> &\n      Partial<Record<Exclude<Keys, K>, undefined>>;\n  }[Keys];\n\ntype Optional<T, K extends keyof T> = Pick<Partial<T>, K> & Omit<T, K>;\n\ntype SupportedContentElement = HTMLImageElement | HTMLVideoElement;\n\ntype DOMStructure = {\n  slideOuterWrapperElement: HTMLDivElement;\n  slideInnerWrapperElement: HTMLDivElement;\n  slideElement: HTMLDivElement;\n  contentElement: SupportedContentElement;\n};\n\ntype SlideData = DOMStructure & {\n  transition: Transition;\n  animation: Animation;\n  contentPlayTimeoutId: ReturnType<typeof setTimeout>;\n};\n\ntype PreloadItem = {\n  mimetype: string;\n  url: string;\n};\n\ntype State = {\n  viewer: HilbertGalleryViewer;\n  log: Log;\n  preloader: Preloader;\n  shadowRoot: ShadowRoot;\n  container: HTMLDivElement;\n  activeSlides: SlideData[];\n  transitionFactory: TransitionFactory;\n  animationFactory: AnimationFactory;\n  muted: boolean;\n};\n\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: Record<string, never> extends Pick<T, K> ? never : K;\n}[keyof T];\n\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: Record<string, never> extends Pick<T, K> ? K : never;\n}[keyof T];\n\ntype AtLeast<T, K extends keyof T> = Partial<T> & Pick<T, K>;\n\n/**\n * This function can be used to check if the type of a variable has been\n * narrowed down to the `never` type, i.e. that at the time of calling this\n * function, all other possible types have been covered beforehand.\n * @param n The variable to check for the `never` type.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction exhaustiveTypeCheck<T>(n: never): T {\n  throw new TypeError(\n    'This function should never be called. If it has been called, your type narrowing is incomplete.',\n  );\n}\n\nexport {\n  staticImplements,\n  RequireOnlyOne,\n  Optional,\n  SupportedContentElement,\n  DOMStructure,\n  SlideData,\n  PreloadItem,\n  State,\n  RequiredKeys,\n  OptionalKeys,\n  AtLeast,\n  exhaustiveTypeCheck,\n};\n",null,"import Ajv, { JSONSchemaType, ValidateFunction } from 'ajv';\n\nconst ajv = new Ajv();\n\nfunction validateThrowError<T>(\n  validate: ValidateFunction<T>,\n): (\n  data: Parameters<ValidateFunction<T>>[0],\n  dataCtx?: Parameters<ValidateFunction<T>>[1],\n) => T {\n  return (\n    data: Parameters<ValidateFunction<T>>[0],\n    dataCtx?: Parameters<ValidateFunction<T>>[1],\n  ): T => {\n    if (typeof dataCtx === 'undefined') {\n      if (validate(data)) {\n        return data;\n      }\n    } else if (validate(data)) {\n      return data;\n    }\n    throw new TypeError(JSON.stringify(validate.errors));\n  };\n}\n\nfunction ajvCompile<T>(\n  schema: JSONSchemaType<T>,\n  _meta?: boolean,\n): (\n  data: Parameters<ValidateFunction<T>>[0],\n  dataCtx?: Parameters<ValidateFunction<T>>[1],\n) => T {\n  return validateThrowError<T>(\n    typeof _meta === 'undefined'\n      ? ajv.compile(schema)\n      : ajv.compile(schema, _meta),\n  );\n}\n\nexport { JSONSchemaType, ajvCompile, validateThrowError };\n",null,"/* eslint-disable no-console */\n\nenum LogLevel {\n  OFF = 0,\n  ERROR = 200,\n  WARN = 300,\n  INFO = 400,\n  DEBUG = 500,\n  TRACE = 600,\n}\n\nexport default class Log {\n  level: LogLevel;\n\n  constructor(level: LogLevel = LogLevel.INFO) {\n    this.level = level;\n  }\n\n  error(...args: unknown[]) {\n    if (this.level >= LogLevel.ERROR) {\n      console.error(...args);\n    }\n  }\n\n  assert(assertion: boolean, ...args: unknown[]) {\n    if (this.level >= LogLevel.ERROR) {\n      console.assert(assertion, ...args);\n    }\n  }\n\n  warn(...args: unknown[]) {\n    if (this.level >= LogLevel.WARN) {\n      console.warn(...args);\n    }\n  }\n\n  info(...args: unknown[]) {\n    if (this.level >= LogLevel.INFO) {\n      console.info(...args);\n    }\n  }\n\n  debug(...args: unknown[]) {\n    if (this.level >= LogLevel.DEBUG) {\n      console.debug(...args);\n    }\n  }\n\n  trace(...args: unknown[]) {\n    if (this.level >= LogLevel.TRACE) {\n      console.trace(...args);\n    }\n  }\n}\n\nexport { Log, LogLevel };\n",null,"import Base from './base';\nimport { State } from '../util/types';\n\nclass ReloadAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    window.location.reload();\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default ReloadAction;\n",null,"import Base from './base';\nimport {\n  Optional,\n  OptionalKeys,\n  State,\n  DOMStructure,\n  SlideData,\n} from '../util/types';\nimport ContentCreator, {\n  SupportedContentElement,\n} from '../util/content-creator';\nimport TransitionFactory from '../transition/factory';\nimport AnimationFactory from '../animation/factory';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport fitObject, { FitType } from '../util/object-fit';\n\ninterface ShowActionOptions {\n  mimetype: string;\n  url: string;\n  fit?: FitType;\n  color?: string;\n  startDelay?: number;\n  volume?: number;\n  muted?: boolean;\n  transition?: { type: string; options?: Record<string, unknown> };\n  animation?: { type: string; options?: Record<string, unknown> };\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst showActionOptionsSchema = {\n  type: 'object',\n  properties: {\n    mimetype: { type: 'string' },\n    url: { type: 'string' },\n    fit: { type: 'string', enum: ['cover', 'contain'] },\n    color: { type: 'string' },\n    startDelay: { type: 'number', minimum: 0 },\n    volume: { type: 'number', minimum: 0, maximum: 1 },\n    muted: { type: 'boolean' },\n    transition: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n    animation: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n  },\n  required: ['mimetype', 'url'],\n} as unknown as JSONSchemaType<ShowActionOptions>;\n\nconst validateShowActionOptions = ajvCompile(showActionOptionsSchema);\n\nconst defaultOptionalShowArgs: Optional<\n  Required<Pick<ShowActionOptions, OptionalKeys<ShowActionOptions>>>,\n  'startDelay' // is optional, but will be derived from the transition if not present\n> = {\n  fit: 'cover',\n  color: 'black',\n  volume: 1,\n  muted: false,\n  transition: { type: 'none', options: {} },\n  animation: { type: 'none', options: {} },\n};\n\nclass ShowAction extends Base<ShowActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  appendCurrentContent(\n    contentElement: SupportedContentElement,\n    color = 'black',\n  ): DOMStructure {\n    contentElement.classList.add('content');\n\n    const slideElement = document.createElement('div');\n    slideElement.style.setProperty('--slide-background-color', color);\n    slideElement.classList.add('slide');\n    slideElement.appendChild(contentElement);\n\n    const slideInnerWrapperElement = document.createElement('div');\n    slideInnerWrapperElement.classList.add('slide-inner-wrapper');\n    slideInnerWrapperElement.appendChild(slideElement);\n\n    const slideOuterWrapperElement = document.createElement('div');\n    slideOuterWrapperElement.classList.add('slide-outer-wrapper');\n    slideOuterWrapperElement.appendChild(slideInnerWrapperElement);\n\n    const { container } = this.state;\n    container.appendChild(slideOuterWrapperElement);\n\n    return {\n      slideOuterWrapperElement,\n      slideInnerWrapperElement,\n      slideElement,\n      contentElement,\n    };\n  }\n\n  protected removePreviousSlides(s: SlideData) {\n    const { activeSlides } = this.state;\n    const index = activeSlides.indexOf(s);\n    if (index !== -1) {\n      const previousSlides = activeSlides.slice(0, index);\n      activeSlides.splice(0, index);\n      previousSlides.forEach((ps) => {\n        const { parentNode } = ps.slideOuterWrapperElement;\n        if (parentNode !== null) {\n          parentNode.removeChild(ps.slideOuterWrapperElement);\n        }\n        ps.transition.cancel();\n        ps.animation.cancel();\n      });\n    }\n  }\n\n  async execute(arg: ShowActionOptions): Promise<void> {\n    // first parse args and prepare transition and animation\n    const transitionCreator = this.prepareTransition(arg);\n    const animationCreator = this.prepareAnimation(arg);\n\n    // args are parsed and considered OK\n    const { mimetype, url, fit, color, startDelay, volume, muted } = {\n      ...defaultOptionalShowArgs,\n      ...arg,\n    };\n\n    const { preloader } = this.state;\n    const content = ContentCreator.create(mimetype, url, preloader);\n    const currentDomStructure = this.appendCurrentContent(\n      content,\n      color ?? 'black',\n    );\n    fitObject(currentDomStructure.slideElement, content, fit);\n    ContentCreator.setMuted(content, this.state.muted || muted);\n    ContentCreator.setVolume(content, volume, 'absolute');\n    const transition = transitionCreator(\n      currentDomStructure.slideOuterWrapperElement,\n    );\n    const animation = animationCreator(currentDomStructure.slideElement);\n\n    const { targetShowUpDelay } = transition;\n    const contentPlayDelay = startDelay ?? targetShowUpDelay;\n\n    const contentPlayTimeoutId = setTimeout(\n      () => ContentCreator.play(content),\n      contentPlayDelay * 1000,\n    );\n\n    const slideData = {\n      ...currentDomStructure,\n      transition,\n      animation,\n      contentPlayTimeoutId,\n    };\n    const { activeSlides } = this.state;\n    activeSlides.push(slideData);\n\n    try {\n      await transition.done();\n    } catch (e) {\n      const msg = 'Waiting for transition to end failed. Proceeding anyway';\n      if (e) {\n        this.state.log.warn(msg, e);\n      } else {\n        this.state.log.warn(msg);\n      }\n    }\n    this.removePreviousSlides(slideData);\n  }\n\n  protected prepareTransition({\n    transition,\n  }: ShowActionOptions): ReturnType<TransitionFactory['prepare']> {\n    const { type, options } = transition ?? { type: 'none', options: {} };\n    const { transitionFactory } = this.state;\n    return transitionFactory.prepare(type, options);\n  }\n\n  protected prepareAnimation({\n    animation,\n  }: ShowActionOptions): ReturnType<AnimationFactory['prepare']> {\n    const { type, options } = animation ?? { type: 'none', options: {} };\n    const { animationFactory } = this.state;\n    return animationFactory.prepare(type, options);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): ShowActionOptions {\n    return validateShowActionOptions(options);\n  }\n}\n\nexport default ShowAction;\nexport { ShowActionOptions };\n",null,"import { exhaustiveTypeCheck, SupportedContentElement } from './types';\nimport { waitForEvents } from './promise';\nimport Preloader from './preloader';\n\ntype Size = { width: number; height: number };\n\nclass ContentCreator {\n  public static create(\n    mimetype: string,\n    url: string,\n    preloader = new Preloader(),\n  ): SupportedContentElement {\n    return preloader.get(mimetype, url);\n  }\n\n  public static play<T extends SupportedContentElement>(content: T): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      content.play().finally(() => {});\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static setVolume<T extends SupportedContentElement>(\n    content: T,\n    volume: number,\n    mode: 'absolute' | 'relative',\n  ): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      switch (mode) {\n        case 'absolute':\n          // eslint-disable-next-line no-param-reassign\n          content.volume = Math.min(1, Math.max(volume, 0));\n          break;\n        case 'relative':\n          // eslint-disable-next-line no-param-reassign\n          content.volume = Math.min(1, Math.max(content.volume * volume, 0));\n          break;\n        default:\n          exhaustiveTypeCheck<T>(mode);\n      }\n\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static setMuted<T extends SupportedContentElement>(\n    content: T,\n    value: boolean,\n  ): T {\n    if (content instanceof HTMLImageElement) {\n      // NOOP\n      return content;\n    }\n    if (content instanceof HTMLVideoElement) {\n      // eslint-disable-next-line no-param-reassign\n      content.muted = value;\n      return content;\n    }\n    return exhaustiveTypeCheck<T>(content);\n  }\n\n  public static async getDimensions<T extends SupportedContentElement>(\n    content: T,\n  ): Promise<Size> {\n    if (content instanceof HTMLImageElement) {\n      return ContentCreator.getDimensionsImage(content);\n    }\n    if (content instanceof HTMLVideoElement) {\n      return ContentCreator.getDimensionsVideo(content);\n    }\n    return exhaustiveTypeCheck<Size>(content);\n  }\n\n  protected static async getDimensionsImage<T extends HTMLImageElement>(\n    image: T,\n  ): Promise<Size> {\n    if (!image.complete)\n      await waitForEvents(image, ['load'], ['abort', 'error']);\n    return { width: image.naturalWidth, height: image.naturalHeight };\n  }\n\n  protected static async getDimensionsVideo<T extends HTMLVideoElement>(\n    video: T,\n  ): Promise<Size> {\n    if (video.readyState < HTMLMediaElement.HAVE_METADATA) {\n      await waitForEvents(video, ['loadedmetadata'], ['abort', 'error']);\n    }\n    return { width: video.videoWidth, height: video.videoHeight };\n  }\n}\n\nexport default ContentCreator;\nexport { SupportedContentElement, Size };\n",null,"class PromiseExecutorCallbacks<T> {\n  private readonly _promise: Promise<T>;\n\n  private readonly _resolve: (result: T) => void;\n\n  private readonly _reject: () => void;\n\n  constructor() {\n    // dummy initialization required to satisfy TS2564 (definite assignment)\n    let tmpResolve: (result: T) => void = () => {};\n    let tmpReject: () => void = () => {};\n    this._promise = new Promise((resolve, reject) => {\n      tmpResolve = resolve;\n      tmpReject = reject;\n    });\n    this._resolve = tmpResolve;\n    this._reject = tmpReject;\n  }\n\n  promise(): Promise<T> {\n    return this._promise;\n  }\n\n  resolve(result: T) {\n    return this._resolve(result);\n  }\n\n  reject() {\n    return this._reject();\n  }\n}\n\nasync function waitForEvents<T extends EventTarget>(\n  element: T,\n  resolveEventNames: string[],\n  rejectEventNames: string[],\n): Promise<T> {\n  return new Promise<T>((resolve, reject) => {\n    const [resolveHandler, rejectHandler] = [\n      () => {\n        resolveEventNames.forEach((name) =>\n          element.removeEventListener(name, resolveHandler),\n        );\n        rejectEventNames.forEach((name) =>\n          element.removeEventListener(name, rejectHandler),\n        );\n        resolve(element);\n      },\n      (e: Event) => {\n        resolveEventNames.forEach((name) =>\n          element.removeEventListener(name, resolveHandler),\n        );\n        rejectEventNames.forEach((name) =>\n          element.removeEventListener(name, rejectHandler),\n        );\n        reject(e);\n      },\n    ];\n    resolveEventNames.forEach((e) =>\n      element.addEventListener(e, resolveHandler),\n    );\n    rejectEventNames.forEach((e) => element.addEventListener(e, rejectHandler));\n  });\n}\n\nexport { PromiseExecutorCallbacks, waitForEvents };\n",null,"import {\n  SupportedContentElement,\n  PreloadItem,\n  exhaustiveTypeCheck,\n} from './types';\nimport { waitForEvents } from './promise';\n\nclass Preloader {\n  protected container: HTMLElement;\n\n  protected readonly refs = new Map<string, SupportedContentElement>();\n\n  constructor(container: HTMLElement = document.createElement('div')) {\n    this.container = container;\n  }\n\n  public static key(mimetype: string, url: string) {\n    return `{${mimetype}}{${url}}`;\n  }\n\n  protected preloadImpl(\n    mimetype: string,\n    url: string,\n  ): { key: string; element: SupportedContentElement } {\n    const key = Preloader.key(mimetype, url);\n    const cpe = Preloader.createPreloadingElement.bind(Preloader);\n    const element = this.refs.get(key) ?? cpe(mimetype, url);\n    this.container.appendChild(element);\n    this.refs.set(key, element);\n    return { key, element };\n  }\n\n  public preload(...items: PreloadItem[]): Promise<void>[] {\n    return items\n      .map(({ mimetype, url }) => this.preloadImpl(mimetype, url))\n      .map(({ element }) => Preloader.readyForDisplay(element).then());\n  }\n\n  public get(mimetype: string, url: string): SupportedContentElement {\n    const { key, element } = this.preloadImpl(mimetype, url);\n    element.remove();\n    const clonedElement = element.cloneNode(true) as SupportedContentElement;\n    this.container.appendChild(clonedElement);\n    this.refs.set(key, clonedElement);\n    return element;\n  }\n\n  public static async readyForDisplay<T extends SupportedContentElement>(\n    content: T,\n  ): Promise<T> {\n    if (content instanceof HTMLImageElement) {\n      await Preloader.readyForDisplayImage(content);\n    } else if (content instanceof HTMLVideoElement) {\n      await Preloader.readyForDisplayVideo(content);\n    } else {\n      exhaustiveTypeCheck(content);\n    }\n    return content;\n  }\n\n  protected static async readyForDisplayImage<T extends HTMLImageElement>(\n    image: T,\n  ): Promise<T> {\n    if (!image.complete)\n      await waitForEvents(image, ['load'], ['abort', 'error']);\n    return image;\n  }\n\n  protected static async readyForDisplayVideo<T extends HTMLVideoElement>(\n    video: T,\n  ): Promise<T> {\n    if (video.readyState < HTMLMediaElement.HAVE_ENOUGH_DATA) {\n      await waitForEvents(video, ['canplaythrough'], ['abort', 'error']);\n    }\n    return video;\n  }\n\n  protected static createPreloadingElement(mimetype: string, url: string) {\n    const type = mimetype.split('/', 1)[0];\n    switch (type) {\n      case 'image':\n        return Preloader.createPreloadingImage(url);\n      case 'video':\n        return Preloader.createPreloadingVideo(url);\n      default:\n        throw new TypeError(`Unsupported MIME type: ${type} (${mimetype})`);\n    }\n  }\n\n  protected static createPreloadingImage(url: string): HTMLImageElement {\n    const { href } = new URL(url);\n    const image = new Image();\n    image.src = href;\n    return image;\n  }\n\n  protected static createPreloadingVideo(url: string): HTMLVideoElement {\n    const video = document.createElement('video');\n    video.preload = 'auto';\n    video.src = url;\n    video.autoplay = false;\n    return video;\n  }\n\n  protected unrefImpl(...keys: string[]) {\n    keys.forEach((key) => {\n      const element = this.refs.get(key);\n      element?.remove();\n      this.refs.delete(key);\n    });\n  }\n\n  unref(...refs: PreloadItem[]) {\n    const keys = refs.map(({ mimetype, url }) => Preloader.key(mimetype, url));\n    this.unrefImpl(...keys);\n  }\n\n  clear() {\n    this.unrefImpl(...this.refs.keys());\n  }\n}\n\nexport default Preloader;\n",null,"import { ResizeObserver as ResizeObserverPolyfill } from '@juggle/resize-observer';\n\nimport ContentCreator, {\n  SupportedContentElement,\n  Size,\n} from './content-creator';\n\n// eslint-disable-next-line compat/compat\nconst ResizeObserverOnWindow = window.ResizeObserver;\nconst ResizeObserver = ResizeObserverOnWindow || ResizeObserverPolyfill;\n\ntype FitType = 'cover' | 'contain';\n\nclass FitUpdater {\n  protected static resizeObserver = new ResizeObserver(\n    FitUpdater.resizeObserverCallback.bind(FitUpdater),\n  );\n\n  protected static elementSizes = new WeakMap<HTMLElement, Size>();\n\n  protected static fitUpdaterInstances = new WeakMap<\n    HTMLElement,\n    FitUpdater[]\n  >();\n\n  protected container: HTMLElement;\n\n  protected content: SupportedContentElement;\n\n  protected constructor(\n    container: HTMLElement,\n    content: SupportedContentElement,\n  ) {\n    this.container = container;\n    this.content = content;\n  }\n\n  update() {\n    const contentSize = FitUpdater.elementSizes.get(this.content);\n    if (typeof contentSize === 'undefined') return;\n    const containerSize = FitUpdater.elementSizes.get(this.container);\n    if (typeof containerSize === 'undefined') return;\n\n    const containerAspectRatio = containerSize.width / containerSize.height;\n    const contentAspectRatio = contentSize.width / contentSize.height;\n\n    if (containerAspectRatio > contentAspectRatio) {\n      this.container.style.setProperty('--fit-cover-max-width', '100%');\n      this.container.style.setProperty('--fit-cover-max-height', 'auto');\n      this.container.style.setProperty('--fit-contain-min-width', 'auto');\n      this.container.style.setProperty('--fit-contain-min-height', '100%');\n    } else {\n      this.container.style.setProperty('--fit-cover-max-width', '100%');\n      this.container.style.setProperty('--fit-cover-max-height', 'auto');\n      this.container.style.setProperty('--fit-contain-min-width', '100%');\n      this.container.style.setProperty('--fit-contain-min-height', 'auto');\n    }\n  }\n\n  public static register(\n    container: HTMLElement,\n    content: SupportedContentElement,\n  ): FitUpdater {\n    const updater = new FitUpdater(container, content);\n\n    FitUpdater.addInstance(container, updater);\n    FitUpdater.addInstance(content, updater);\n    FitUpdater.resizeObserver.observe(container);\n\n    ContentCreator.getDimensions(content)\n      .then((size) => {\n        FitUpdater.elementSizes.set(content, size);\n        updater.update();\n      })\n      .catch((reason) => {\n        // eslint-disable-next-line no-console\n        console.error(\n          'Could not retrieve size of content element.',\n          content,\n          reason,\n          'Content fitting will most likely not work for this element.',\n        );\n      });\n\n    return updater;\n  }\n\n  public static unregister(updater: FitUpdater): void {\n    const { container, content } = updater;\n    FitUpdater.removeInstance(container, updater);\n    FitUpdater.removeInstance(content, updater);\n  }\n\n  protected static addInstance(elem: HTMLElement, updater: FitUpdater): void {\n    const instances = FitUpdater.getInstances(elem);\n    instances.push(updater);\n    FitUpdater.fitUpdaterInstances.set(elem, instances);\n  }\n\n  protected static removeInstance(\n    elem: HTMLElement,\n    updater: FitUpdater,\n  ): void {\n    const instances = FitUpdater.getInstances(elem);\n    const idx = instances.indexOf(updater);\n    if (idx !== -1) {\n      FitUpdater.fitUpdaterInstances.set(elem, instances.splice(idx, 1));\n    }\n  }\n\n  protected static getInstances(elem: HTMLElement): FitUpdater[] {\n    const instances = FitUpdater.fitUpdaterInstances.get(elem);\n    if (typeof instances === 'undefined') return [];\n    return [...instances];\n  }\n\n  protected static resizeObserverCallback(roes: ResizeObserverEntry[]) {\n    roes\n      .filter(({ target }) => target instanceof HTMLElement)\n      .forEach(({ target, contentRect: { width, height } }) => {\n        const element = target as HTMLElement;\n        FitUpdater.elementSizes.set(element, { width, height });\n        FitUpdater.getInstances(element).forEach((i) => i.update());\n      });\n  }\n}\n\nfunction fitObject(\n  container: HTMLElement,\n  content: SupportedContentElement,\n  type: FitType,\n) {\n  content.classList.add(`fit-${type}`);\n  FitUpdater.register(container, content);\n}\n\nexport default fitObject;\nexport { FitType, FitUpdater };\n",null,"import Base from './base';\nimport { OptionalKeys, State } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport { ShowActionOptions } from './show';\n\ninterface ClearActionOptions {\n  color?: string;\n  transition?: { type: string; options?: Record<string, unknown> };\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst clearActionOptionsSchema = {\n  type: 'object',\n  properties: {\n    color: { type: 'string' },\n    transition: {\n      type: 'object',\n      properties: {\n        type: { type: 'string' },\n        options: { type: 'object' },\n      },\n      required: ['type'],\n    },\n  },\n} as unknown as JSONSchemaType<ClearActionOptions>;\n\nconst validateClearActionOptions = ajvCompile(clearActionOptionsSchema);\n\nconst defaultOptionalClearArgs: Required<\n  Pick<ClearActionOptions, OptionalKeys<ClearActionOptions>>\n> = {\n  color: 'black',\n  transition: { type: 'none', options: {} },\n};\n\nclass ClearAction extends Base<ClearActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(arg: ClearActionOptions): Promise<void> {\n    const showActionOptions: ShowActionOptions = {\n      ...defaultOptionalClearArgs,\n      ...arg,\n      mimetype: 'image/gif',\n      url: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      animation: { type: 'none' },\n    };\n    const { viewer } = this.state;\n    await viewer.execute('show', showActionOptions);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): ClearActionOptions {\n    return validateClearActionOptions(options);\n  }\n}\n\nexport default ClearAction;\nexport { ClearActionOptions };\n",null,"/* eslint-disable import/prefer-default-export */\n\nfunction appendStyle(\n  root: DocumentFragment,\n  stylesheetText: string,\n  id?: string,\n) {\n  const style: HTMLStyleElement = document.createElement('style');\n  if (typeof id !== 'undefined') {\n    style.id = id;\n  }\n  style.textContent = stylesheetText;\n  const selector =\n    \"style[type='text/css']:last-of-type, style:not([type]):last-of-type\";\n  const lastStyleElem = root.querySelector(selector);\n  if (lastStyleElem === null) {\n    root.prepend(style);\n  } else {\n    lastStyleElem.after(style);\n  }\n}\n\nexport { appendStyle };\n\nexport function setCSSPropertyIfDefined<T>(\n  elem: HTMLElement,\n  property: string,\n  formatter: (v: Exclude<T, undefined>) => string,\n  value: T,\n) {\n  if (typeof value !== 'undefined')\n    elem.style.setProperty(property, formatter(value as Exclude<T, undefined>));\n}\n",null,"import { Animation, AnimationOptions, AnimationStatic } from './animation';\nimport { appendStyle } from '../util/style';\nimport { NoneAnimation } from './none';\nimport { PanZoomAnimation } from './pan-zoom';\n\nclass AnimationFactory {\n  protected root: DocumentFragment;\n\n  protected animationRegistry: Map<\n    string,\n    AnimationStatic<Animation, AnimationOptions>\n  > = new Map();\n\n  constructor(root: DocumentFragment) {\n    this.root = root;\n    this.registerKnownTransitions();\n  }\n\n  protected registerKnownTransitions() {\n    this.register('none', NoneAnimation);\n    this.register('pan-zoom', PanZoomAnimation);\n  }\n\n  public register(\n    id: string,\n    AnimationClass: AnimationStatic<Animation, AnimationOptions>,\n  ) {\n    if (this.animationRegistry.has(id)) {\n      throw new Error('Animation type already registered');\n    }\n    appendStyle(\n      this.root,\n      AnimationClass.getStyleSheetAsString(),\n      `animation-${id}`,\n    );\n    this.animationRegistry.set(id, AnimationClass);\n  }\n\n  public prepare(\n    type = 'none',\n    options: unknown = {},\n  ): (element: HTMLDivElement) => Animation {\n    const AnimationClass = this.animationRegistry.get(type);\n    if (!AnimationClass) {\n      throw new Error(`Unknown animation type: ${type}`);\n    }\n\n    // unpacks the options and throws an exception if they are invalid,\n    // but does create the actual transition yet\n    return AnimationClass.prepare(options);\n  }\n}\n\nexport default AnimationFactory;\n",null,"import cssText from 'bundle-text:../../scss/animation/none.scss';\n\nimport { AnimationOptions, AnimationStatic } from './animation';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport CssBasedAnimation, { CssBasedAnimationOptions } from './css-based';\nimport { JSONSchemaType, ajvCompile } from '../util/validate';\n\ntype NoneAnimationOptions = AnimationOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst noneAnimationOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<NoneAnimationOptions>;\n\nconst validateNoneAnimationOptions = ajvCompile(noneAnimationOptionsSchema);\n\n@staticImplements<AnimationStatic<NoneAnimation, NoneAnimationOptions>>()\nclass NoneAnimation extends CssBasedAnimation {\n  constructor(element: HTMLElement, options: NoneAnimationOptions) {\n    super(element, NoneAnimation.createCssBasedAnimationOptions(options));\n  }\n\n  static createCssBasedAnimationOptions(\n    options: NoneAnimationOptions,\n  ): CssBasedAnimationOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'animation-none';\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const { delay, duration } = options;\n      const s = setCSSPropertyIfDefined;\n      s(e, '--animation-none-delay', (v) => `${v}s`, delay);\n      s(e, '--animation-none-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--animation-none-delay',\n        '--animation-none-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['animation', 'animation-none'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: false,\n      removeOnCancel: false,\n    };\n  }\n\n  static unpack(options: unknown): NoneAnimationOptions {\n    return validateNoneAnimationOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => NoneAnimation {\n    const unpackedOptions = NoneAnimation.unpack(options);\n    return (element: HTMLElement) =>\n      new NoneAnimation(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { NoneAnimation };\n",null,"module.exports = \"eeed2b049135d64b\";","import { OptionalKeys } from '../util/types';\nimport { BaseAnimation } from './base';\n\ninterface CssBasedAnimationOptions {\n  classList?: string[];\n  cssPropertySetter?: (e: HTMLElement) => void;\n  cssPropertyRemover?: (e: HTMLElement) => void;\n  endEventFilter?: (e: AnimationEvent) => boolean;\n  cancelEventFilter?: (e: AnimationEvent) => boolean;\n  removeAtEnd?: boolean;\n  removeOnCancel?: boolean;\n}\n\nconst cssBasedAnimationOptionsDefault: Required<\n  Pick<CssBasedAnimationOptions, OptionalKeys<CssBasedAnimationOptions>>\n> = {\n  classList: [],\n  cssPropertySetter: () => {},\n  cssPropertyRemover: () => {},\n  endEventFilter: () => true,\n  cancelEventFilter: () => true,\n  removeAtEnd: true,\n  removeOnCancel: true,\n};\n\nclass CssBasedAnimation extends BaseAnimation {\n  protected endHandler: (event: AnimationEvent) => void;\n\n  protected cancelHandler: (event: AnimationEvent) => void;\n\n  protected cssBasedAnimationOptions: Required<CssBasedAnimationOptions>;\n\n  constructor(content: HTMLElement, options: CssBasedAnimationOptions) {\n    super(content);\n\n    const { element } = this;\n\n    this.cssBasedAnimationOptions = {\n      ...cssBasedAnimationOptionsDefault,\n      ...options,\n    };\n\n    const { cssPropertySetter, endEventFilter, cancelEventFilter } =\n      this.cssBasedAnimationOptions;\n\n    this.addClasses();\n    cssPropertySetter(element);\n\n    this.endHandler = (ae) => {\n      if (endEventFilter(ae)) {\n        this.end();\n      }\n    };\n    this.cancelHandler = (ae) => {\n      if (cancelEventFilter(ae)) {\n        this.cancelled();\n      }\n    };\n\n    element.addEventListener('animationend', this.endHandler);\n    element.addEventListener('animationcancel', this.cancelHandler);\n  }\n\n  protected addClasses() {\n    const { classList } = this.cssBasedAnimationOptions;\n    const { element } = this;\n    classList.forEach((c) => element.classList.add(c));\n  }\n\n  protected removeClasses() {\n    const { classList } = this.cssBasedAnimationOptions;\n    const { element } = this;\n    classList.forEach((c) => element.classList.remove(c));\n  }\n\n  protected end(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      this.cleanup(this.cssBasedAnimationOptions.removeAtEnd);\n      this._isDone = true;\n      this.donePEC.resolve();\n    }\n  }\n\n  protected cancelled(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      this.cleanup(this.cssBasedAnimationOptions.removeOnCancel);\n      this._isCancelled = true;\n      this.donePEC.reject();\n    }\n  }\n\n  cancel(): void {\n    if (!this.isCancelled() && !this.isDone()) {\n      if (this.cssBasedAnimationOptions.removeOnCancel) {\n        this.removeClasses();\n      } else {\n        this.cancelled();\n      }\n    }\n  }\n\n  protected cleanup(removeClassesAndProperties: boolean) {\n    const { element, cssBasedAnimationOptions } = this;\n    const { cssPropertyRemover } = cssBasedAnimationOptions;\n    element.removeEventListener('animationend', this.endHandler);\n    element.removeEventListener('animationcancel', this.cancelHandler);\n    if (removeClassesAndProperties) {\n      this.removeClasses();\n      cssPropertyRemover(element);\n    } else {\n      element.style.animationPlayState = 'paused';\n    }\n  }\n}\n\nexport default CssBasedAnimation;\nexport { CssBasedAnimationOptions };\n",null,"import { Animation } from './animation';\nimport { PromiseExecutorCallbacks } from '../util/promise';\n\nexport default abstract class BaseAnimation implements Animation {\n  public readonly element: HTMLElement;\n\n  protected _isCancelled = false;\n\n  protected _isDone = false;\n\n  protected donePEC: PromiseExecutorCallbacks<void>;\n\n  protected constructor(element: HTMLElement) {\n    this.element = element;\n\n    this.donePEC = new PromiseExecutorCallbacks<void>();\n\n    // prevent uncaught exceptions in promise\n    this.donePEC.promise().catch(() => {});\n  }\n\n  abstract cancel(): void;\n\n  isCancelled(): boolean {\n    return this._isCancelled;\n  }\n\n  done(): Promise<void> {\n    return this.donePEC.promise();\n  }\n\n  isDone(): boolean {\n    return this._isDone;\n  }\n}\n\nexport { BaseAnimation };\n","import cssText from 'bundle-text:../../scss/animation/pan-zoom.scss';\n\nimport { AnimationOptions, AnimationStatic } from './animation';\nimport CssBasedAnimation, { CssBasedAnimationOptions } from './css-based';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\n\ntype View = {\n  x: number;\n  y: number;\n  scale: number;\n};\n\ninterface PanZoomAnimationOptions extends AnimationOptions {\n  from?: Partial<View>;\n  to?: Partial<View>;\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst partialViewSchema = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' },\n    scale: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<PanZoomAnimationOptions['from']>;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst panZoomAnimationOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n    from: partialViewSchema,\n    to: partialViewSchema,\n  },\n} as JSONSchemaType<PanZoomAnimationOptions>;\n\nconst validatePanZoomAnimationOptions = ajvCompile(\n  panZoomAnimationOptionsSchema,\n);\n\n@staticImplements<AnimationStatic<PanZoomAnimation, PanZoomAnimationOptions>>()\nexport default class PanZoomAnimation extends CssBasedAnimation {\n  constructor(content: HTMLElement, options: PanZoomAnimationOptions) {\n    super(content, PanZoomAnimation.createCssBasedAnimationOptions(options));\n  }\n\n  static createCssBasedAnimationOptions(\n    options: PanZoomAnimationOptions,\n  ): CssBasedAnimationOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'animation-pan-zoom';\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const { delay, duration, from, to } = options;\n      const s = setCSSPropertyIfDefined;\n      s(e, '--animation-pan-zoom-delay', (v) => `${v}s`, delay);\n      s(e, '--animation-pan-zoom-duration', (v) => `${v}s`, duration);\n      s(e, '--animation-pan-zoom-origin-x', (v) => `${v}`, from?.x);\n      s(e, '--animation-pan-zoom-origin-y', (v) => `${v}`, from?.y);\n      s(e, '--animation-pan-zoom-origin-scale', (v) => `${v}`, from?.scale);\n      s(e, '--animation-pan-zoom-target-x', (v) => `${v}`, to?.x);\n      s(e, '--animation-pan-zoom-target-y', (v) => `${v}`, to?.y);\n      s(e, '--animation-pan-zoom-target-scale', (v) => `${v}`, to?.scale);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--animation-pan-zoom-delay',\n        '--animation-pan-zoom-duration',\n        '--animation-pan-zoom-origin-x',\n        '--animation-pan-zoom-origin-y',\n        '--animation-pan-zoom-origin-scale',\n        '--animation-pan-zoom-target-x',\n        '--animation-pan-zoom-target-y',\n        '--animation-pan-zoom-target-scale',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['animation', 'animation-pan-zoom'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: false,\n      removeOnCancel: false,\n    };\n  }\n\n  static unpack(options: unknown): PanZoomAnimationOptions {\n    return validatePanZoomAnimationOptions(options);\n  }\n\n  static prepare(options: unknown): (content: HTMLElement) => PanZoomAnimation {\n    const unpackedOptions = PanZoomAnimation.unpack(options);\n    return (content: HTMLElement) =>\n      new PanZoomAnimation(content, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { PanZoomAnimation, PanZoomAnimationOptions };\n",null,"module.exports = \"e80d9e726eef6b59\";","import { Transition, TransitionOptions, TransitionStatic } from './transition';\nimport { NoneTransition } from './none';\nimport { FadeTransition } from './fade';\nimport { CrossFadeTransition } from './cross-fade';\nimport { appendStyle } from '../util/style';\n\nclass TransitionFactory {\n  protected root: DocumentFragment;\n\n  protected transitionRegistry: Map<\n    string,\n    TransitionStatic<Transition, TransitionOptions>\n  > = new Map();\n\n  constructor(root: DocumentFragment) {\n    this.root = root;\n    this.registerKnownTransitions();\n  }\n\n  protected registerKnownTransitions() {\n    this.register('none', NoneTransition);\n    this.register('fade', FadeTransition);\n    this.register('cross-fade', CrossFadeTransition);\n  }\n\n  public register(\n    id: string,\n    transitionClass: TransitionStatic<Transition, TransitionOptions>,\n  ) {\n    if (this.transitionRegistry.has(id)) {\n      throw new Error('Transition type already registered');\n    }\n    appendStyle(\n      this.root,\n      transitionClass.getStyleSheetAsString(),\n      `transition-${id}`,\n    );\n    this.transitionRegistry.set(id, transitionClass);\n  }\n\n  public prepare(\n    type = 'none',\n    options: Record<string, unknown> = {},\n  ): (element: HTMLDivElement) => Transition {\n    const TransitionClass = this.transitionRegistry.get(type);\n    if (!TransitionClass) {\n      throw new Error(`Unknown transition type: ${type}`);\n    }\n\n    // unpacks the options and throws an exception if they are invalid,\n    // but does create the actual transition yet\n    return TransitionClass.prepare(options);\n  }\n}\n\nexport default TransitionFactory;\n","import cssText from 'bundle-text:../../scss/transition/none.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ntype NoneTransitionOptions = TransitionOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst noneTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<NoneTransitionOptions>;\n\nconst validateNoneTransitionOptions = ajvCompile(noneTransitionOptionsSchema);\n\n@staticImplements<TransitionStatic<NoneTransition, NoneTransitionOptions>>()\nexport default class NoneTransition extends CssBasedTransition {\n  readonly targetShowUpDelay: number = 0;\n\n  constructor(element: HTMLElement, options: NoneTransitionOptions) {\n    super(element, NoneTransition.createCssBasedTransitionOptions(options));\n  }\n\n  static createCssBasedTransitionOptions(\n    options: NoneTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-none';\n\n    const { delay, duration } = options;\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-none-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-none-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-none-delay',\n        '--transition-none-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-none'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: delay ?? 0,\n    };\n  }\n\n  static unpack(options: unknown): NoneTransitionOptions {\n    return validateNoneTransitionOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => NoneTransition {\n    const unpackedOptions = NoneTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new NoneTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { NoneTransition };\n","module.exports = \"8ffa0c26dab3e2c6\";","import CssBasedAnimation, {\n  CssBasedAnimationOptions,\n} from '../animation/css-based';\nimport { Transition } from './transition';\n\nabstract class CssBasedTransition\n  extends CssBasedAnimation\n  implements Transition\n{\n  readonly targetShowUpDelay: number;\n\n  protected constructor(\n    content: HTMLElement,\n    options: CssBasedTransitionOptions,\n  ) {\n    super(content, options);\n    this.targetShowUpDelay = options.targetShowUpDelay;\n  }\n}\n\ninterface CssBasedTransitionOptions extends CssBasedAnimationOptions {\n  targetShowUpDelay: number;\n}\n\nexport default CssBasedTransition;\nexport { CssBasedTransitionOptions };\n","import cssText from 'bundle-text:../../scss/transition/fade.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ninterface FadeTransitionOptions extends TransitionOptions {\n  color?: string;\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst fadeTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n    color: { type: 'string' },\n  },\n} as JSONSchemaType<FadeTransitionOptions>;\n\nconst validateFadeTransitionOptions = ajvCompile(fadeTransitionOptionsSchema);\n\n// overwrites the (invalid) value set as default in the SCSS file\nconst defaultDuration = 2;\n\n@staticImplements<TransitionStatic<FadeTransition, FadeTransitionOptions>>()\nexport default class FadeTransition extends CssBasedTransition {\n  constructor(element: HTMLElement, options: FadeTransitionOptions) {\n    super(element, FadeTransition.createCssBasedTransitionOptions(options));\n  }\n\n  static createCssBasedTransitionOptions(\n    options: FadeTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-fade';\n    const { delay, duration } = { duration: defaultDuration, ...options };\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-fade-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-fade-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-fade-delay',\n        '--transition-fade-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-fade'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: (delay ?? 0) + duration / 2,\n    };\n  }\n\n  static unpack(options: unknown): FadeTransitionOptions {\n    return validateFadeTransitionOptions(options);\n  }\n\n  static prepare(options: unknown): (element: HTMLElement) => FadeTransition {\n    const unpackedOptions = FadeTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new FadeTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { FadeTransition, FadeTransitionOptions };\n",null,"module.exports = \"7999367e71e98f80\";","import cssText from 'bundle-text:../../scss/transition/cross-fade.scss';\n\nimport { JSONSchemaType } from 'ajv';\n\nimport CssBasedTransition, { CssBasedTransitionOptions } from './css-based';\nimport { TransitionOptions, TransitionStatic } from './transition';\nimport { staticImplements } from '../util/types';\nimport { setCSSPropertyIfDefined } from '../util/style';\nimport { ajvCompile } from '../util/validate';\n\ntype CrossFadeTransitionOptions = TransitionOptions;\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst crossFadeTransitionOptionsSchema = {\n  type: 'object',\n  properties: {\n    delay: { type: 'number', minimum: 0 },\n    duration: { type: 'number', minimum: 0 },\n  },\n} as JSONSchemaType<CrossFadeTransitionOptions>;\n\nconst validateCrossFadeTransitionOptions = ajvCompile(\n  crossFadeTransitionOptionsSchema,\n);\n\n@staticImplements<\n  TransitionStatic<CrossFadeTransition, CrossFadeTransitionOptions>\n>()\nexport default class CrossFadeTransition extends CssBasedTransition {\n  constructor(element: HTMLElement, options: CrossFadeTransitionOptions) {\n    super(\n      element,\n      CrossFadeTransition.createCssBasedTransitionOptions(options),\n    );\n  }\n\n  static createCssBasedTransitionOptions(\n    options: CrossFadeTransitionOptions,\n  ): CssBasedTransitionOptions {\n    const animationEventFilter = ({ animationName }: AnimationEvent) =>\n      animationName === 'transition-cross-fade';\n\n    const { delay, duration } = options;\n\n    const cssPropertySetter = (e: HTMLElement) => {\n      const s = setCSSPropertyIfDefined;\n      s(e, '--transition-cross-fade-delay', (v) => `${v}s`, delay);\n      s(e, '--transition-cross-fade-duration', (v) => `${v}s`, duration);\n    };\n\n    const cssPropertyRemover = (e: HTMLElement) => {\n      const propertyNames = [\n        '--transition-cross-fade-delay',\n        '--transition-cross-fade-duration',\n      ];\n      propertyNames.forEach((n) => e.style.removeProperty(n));\n    };\n\n    return {\n      classList: ['transition', 'transition-cross-fade'],\n      endEventFilter: animationEventFilter,\n      cancelEventFilter: animationEventFilter,\n      cssPropertySetter,\n      cssPropertyRemover,\n      removeAtEnd: true,\n      removeOnCancel: true,\n      targetShowUpDelay: delay ?? 0,\n    };\n  }\n\n  static unpack(options: unknown): CrossFadeTransitionOptions {\n    return validateCrossFadeTransitionOptions(options);\n  }\n\n  static prepare(\n    options: unknown,\n  ): (element: HTMLElement) => CrossFadeTransition {\n    const unpackedOptions = CrossFadeTransition.unpack(options);\n    return (element: HTMLElement) =>\n      new CrossFadeTransition(element, unpackedOptions);\n  }\n\n  static getStyleSheetAsString(): string {\n    return cssText;\n  }\n}\n\nexport { CrossFadeTransition, CrossFadeTransitionOptions };\n",null,"module.exports = \"ac225faea001c22d\";","import Base from './base';\nimport { State } from '../util/types';\nimport ContentCreator from '../util/content-creator';\n\nclass MuteAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setMuted(contentElement, true),\n    );\n    this.state.muted = true;\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default MuteAction;\n",null,"import Base from './base';\nimport { State } from '../util/types';\nimport ContentCreator from '../util/content-creator';\n\nclass UnmuteAction extends Base<void, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(): Promise<void> {\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setMuted(contentElement, false),\n    );\n    this.state.muted = false;\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(): void {}\n}\n\nexport default UnmuteAction;\n",null,"import Base from './base';\nimport { OptionalKeys, State } from '../util/types';\nimport { ajvCompile, JSONSchemaType } from '../util/validate';\nimport ContentCreator from '../util/content-creator';\n\ninterface SetVolumeActionOptions {\n  volume: number;\n  mode?: 'absolute' | 'relative';\n}\n\n// TODO: avoid JSONSchemaType cast; needs at least Ajv v9 to support optional properties\nconst setVolumeActionOptionsSchema = {\n  oneOf: [\n    {\n      type: 'object',\n      properties: {\n        volume: { type: 'number', minimum: 0, maximum: 1 },\n        mode: { type: 'string', const: 'absolute' },\n      },\n      required: ['volume'],\n    },\n    {\n      type: 'object',\n      properties: {\n        volume: { type: 'number', minimum: 0 },\n        mode: { type: 'string', const: 'relative' },\n      },\n      required: ['volume', 'mode'],\n    },\n  ],\n} as unknown as JSONSchemaType<SetVolumeActionOptions>;\n\nconst validateSetVolumeActionOptions = ajvCompile(setVolumeActionOptionsSchema);\n\nconst defaultOptionalSetVolumeArgs: Required<\n  Pick<SetVolumeActionOptions, OptionalKeys<SetVolumeActionOptions>>\n> = {\n  mode: 'absolute',\n};\n\nclass SetVolumeAction extends Base<SetVolumeActionOptions, void> {\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(state: State) {\n    super(state);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async execute(arg: SetVolumeActionOptions): Promise<void> {\n    const { volume, mode } = {\n      ...defaultOptionalSetVolumeArgs,\n      ...arg,\n    };\n    this.state.activeSlides.forEach(({ contentElement }) =>\n      ContentCreator.setVolume(contentElement, volume, mode),\n    );\n    return Promise.resolve();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  unpack(options: unknown): SetVolumeActionOptions {\n    return validateSetVolumeActionOptions(options);\n  }\n}\n\nexport default SetVolumeAction;\nexport { SetVolumeActionOptions };\n",null],"names":[],"version":3,"file":"index.cjs.map"}